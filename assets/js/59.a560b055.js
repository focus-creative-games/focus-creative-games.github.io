(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{379:function(a,t,e){"use strict";e.r(t);var n=e(7),s=Object(n.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[a._v("#")]),a._v(" 介绍")]),a._v(" "),t("h2",{attrs:{id:"luban-client-、luban-server和-luban-clientserver的功能和区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#luban-client-、luban-server和-luban-clientserver的功能和区别"}},[a._v("#")]),a._v(" Luban.Client 、Luban.Server和 Luban.ClientServer的功能和区别")]),a._v(" "),t("p",[a._v("Luban 默认的工作模型为 云生成模型，也就是 Luban.Client 将生成请求提交到远程的 Luban.Server，Luban.Server将生成结果返回给Luban.Client。\n对于使用Luban云生成工作模型的项目，需要在一个服务器上部属 Luban.Server (当然也可以直接在本地化运行），然后将 Luban.Client的 -h 参数改为 该服务器的IP。")]),a._v(" "),t("p",[a._v("Luban.ClientServer为Luban.Client+Luban.Server一体的程序，内嵌了Luban.Client和Luban.Server，其工作原理与云生成的模式一致。")]),a._v(" "),t("p",[a._v("有些项目规模较小，或者为个人开发者，不想部属Luban.Server，则可以采用Luban.ClientServer工具。")]),a._v(" "),t("h2",{attrs:{id:"云生成的优点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#云生成的优点"}},[a._v("#")]),a._v(" 云生成的优点")]),a._v(" "),t("p",[a._v("云生成模式下，Luban.Server会缓存生成结果，对于定义和数据没有变化的配置表，直接返回生成结果。日常开发中，经常只改动了个别表，使用了云生成后，只会生成改变的表的数据，\n极大缩短了生成时间，日常生成时间基本在300ms量级。 对于MMORPG这样的大项目，日常生成基本了1s以内，节省非常可观的时间。")]),a._v(" "),t("h2",{attrs:{id:"部属"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#部属"}},[a._v("#")]),a._v(" 部属")]),a._v(" "),t("p",[a._v("Luban工具有两种部属方式。")]),a._v(" "),t("h3",{attrs:{id:"方法1-luban-client与luban-server独立部属-云生成模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方法1-luban-client与luban-server独立部属-云生成模式"}},[a._v("#")]),a._v(" 方法1： Luban.Client与Luban.Server独立部属，云生成模式")]),a._v(" "),t("h4",{attrs:{id:"部属-luban-server"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#部属-luban-server"}},[a._v("#")]),a._v(" 部属 luban-server")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("基于 docker (强烈推荐以这种方式在服务器上部属luban-server，因为可以充分利用缓存机制大幅缩短生成时间)")]),a._v(" "),t("p",[a._v("docker run -d --rm --name luban-server -p 8899:8899 focuscreativegames/luban-server:latest")])]),a._v(" "),t("li",[t("p",[a._v("基于 .net 6 runtime （可跨平台，不需要重新编译）")]),a._v(" "),t("ul",[t("li",[a._v("自行安装 .net 6 runtime.")]),a._v(" "),t("li",[a._v("从"),t("a",{attrs:{href:"https://github.com/focus-creative-games/luban_examples/tree/main/Tools/Luban.ClientServer",target:"_blank",rel:"noopener noreferrer"}},[a._v("示例项目"),t("OutboundLink")],1),a._v("拷贝整个Luban.ClientServer目录（"),t("strong",[a._v("可跨平台，即使在linux、mac平台也不需要重新编译")]),a._v("）")]),a._v(" "),t("li",[a._v("在Luban.ClientServer目录下运行 dotnet Luban.Server.dll (提示：Win平台可以直接运行 Luban.Server.exe)")])])])]),a._v(" "),t("h4",{attrs:{id:"安装-luban-client"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-luban-client"}},[a._v("#")]),a._v(" 安装 luban-client")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("基于 docker (只推荐与jenkins之类devops工具配合使用，因为docker容器启动会增加一定的延迟)")]),a._v(" "),t("p",[a._v("docker run --rm -v $PWD/.cache.meta:/bin/.cache.meta  focuscreativegames/luban-client <参数>")]),a._v(" "),t("p",[a._v("提醒！ .cache.meta这个文件用于保存本地生成或者提交到远程的文件md5缓存，"),t("strong",[a._v("强烈推荐")]),a._v(" 添加-v $PWD/.cache.meta:/bin/.cache.meta 映射，不然每次重新计算所有涉及文件的md5,这可能在项目后期会造成多达几秒的延迟。")])]),a._v(" "),t("li",[t("p",[a._v("基于 .net 6 runtime （推荐win平台使用，可跨平台，不需要重新编译）")]),a._v(" "),t("ul",[t("li",[a._v("自行安装 .net 6 runtime.")]),a._v(" "),t("li",[a._v("从"),t("a",{attrs:{href:"https://github.com/focus-creative-games/luban_examples/tree/main/Tools/Luban.Client",target:"_blank",rel:"noopener noreferrer"}},[a._v("示例项目"),t("OutboundLink")],1),a._v("拷贝 Luban.Client（"),t("strong",[a._v("可跨平台，即使在linux、mac平台也不需要重新编译")]),a._v("）")])])])]),a._v(" "),t("h3",{attrs:{id:"方法2-client与server一体模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方法2-client与server一体模式"}},[a._v("#")]),a._v(" 方法2： Client与Server一体模式")]),a._v(" "),t("p",[a._v("Client与Server在同个进程内运行，不需要单独部属Luban.Server。")]),a._v(" "),t("p",[a._v("将运行脚本中%LUBAN_CLIENT%变量由 Luban.Client/Luban.Client 改为 Luban.ClientServer/Luban.ClientServer，同时"),t("strong",[a._v("删除 -h (--host ) 选项及其参数")]),a._v("。")]),a._v(" "),t("p",[a._v("Luban.ClientServer是Luban.Client的功能超集，可以完全替代Luban.Client。")]),a._v(" "),t("hr"),a._v(" "),t("h2",{attrs:{id:"使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[a._v("#")]),a._v(" 使用")]),a._v(" "),t("h3",{attrs:{id:"luban-server-使用介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#luban-server-使用介绍"}},[a._v("#")]),a._v(" luban-server 使用介绍")]),a._v(" "),t("p",[a._v("命令行使用")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v('dotnet Luban.Server.dll [-p <port>] [-l <log level>]\n\n参数介绍：\n-p, --port <port>                   可选参数。监听端口 <port>，默认为8899。\n-l, --loglevel <log level>          可选参数。日志级别。默认为INFO。 有效值有: TRACE,DEBUG,INFO,WARN,ERROR,FATAL,OFF  \n-t, --template_search_path          可选参数。模板的额外搜索路径。优先从此路径，再从Templates目录搜索模板文件。  \n--disable_cache                     可选参数。禁用生成中间过程的缓存，但保留了源文件缓存。在模板调试时比较有用。\n--i10n:default_timezone  <timezone> 可选参数。datetime时间所在的时区。如果未设置则会尝试用"Asia/Shanghai"和"China Standard Time"。\n')])])]),t("p",[a._v('关于时区，win下可使用命令"tzutil /l" 查看本机时区列表。 也可查阅MS文档'),t("a",{attrs:{href:"https://docs.microsoft.com/en-us/windows-hardware/manufacture/desktop/default-time-zones?view=windows-11",target:"_blank",rel:"noopener noreferrer"}},[a._v("default-time-zones列表"),t("OutboundLink")],1)]),a._v(" "),t("h3",{attrs:{id:"luban-client-使用介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#luban-client-使用介绍"}},[a._v("#")]),a._v(" luban-client 使用介绍")]),a._v(" "),t("p",[a._v("命令行使用")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("dotnet Luban.Client.dll [-h <host>] [-p <port>] [-l <log level>] [-c <cache meta file>] [-w <watch dirs>] [-h ] -j cfg -- <job options>\n\n参数介绍：\n-h,--host <host>                可选参数。 luban-server的地址。默认为 127.0.0.1\n-p,--port <port>                可选参数。 luban-server的端口。默认为 8899\n-j,--job <job>                  必选参数。 生成类型。目前支持的生成类型有: cfg,proto,db。 生成配置请取cfg。\n-l,--loglevel <log level>       可选参数。 日志级别。默认为INFO。有效值有: TRACE,DEBUG,INFO,WARN,ERROR,FATAL,OFF\n-c,--cachemetafile <meta file>  可选参数。 meta缓存文件名。 默认为 .cache.meta\n-w,--watch <dir1;dir2...>       可选参数。 监测目录或者目录列表，以逗号';'分隔。当开启此选项后，生成结束后不会退出程序，而是进入自动生成模式。\n                                          监听到目标目录发生变化后，自动重新运行生成。省去改动后手动运行生成脚本的麻烦。\n--generateonly                  可选参数。 仅生成。不从服务器下载生成结果。可以用于检查服务器是否能成功生成。\n-h,--help                       可选参数。 显示帮助信息\n--  <job options>               必选参数。 从此参数起，便是 不同job的特有选项\n")])])]),t("hr"),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("cfg的<job options>介绍：\n\n-d,--define_file <root file>            必选参数。 根定义文件名。\n--input_data_dir  <input data dir>      必选参数。 配置数据文件根目录。\n--input:convert:dir <dir>               可选参数。 执行json、lua、xlsx之类数据格式转换时，提供的数据源，覆盖table中默认的input参数。\n-c,--output_code_dir <output code dir>  可选参数。 生成代码文件的目录。\n-s,--service                            必选参数。生成分组目标。一般来说，会定义client,server,editor等好几个目标，不同目标的生成内容不同。\n\n--gen_types <type1,type2,,,>  必选参数。生成任务类型。既可以是生成代码也可以是生成数据或者其他。\n                              目前支持的有 code_cs_bin,code_cs_unity_bin,code_cs_dotnet_json,code_cs_unity_json,\n                                  code_cs_unity_editor_json,code_lua_bin,code_java_bin,code_go_bin,\n                                  code_go_json,code_cpp_bin,code_cpp_ue_editor_json,code_python27_json,\n                                  code_python3_json, code_gdscript_json, code_typescript_bin,code_typescript_json,code_rust_json,\n                                  code_protobuf2,code_protobuf3,code_template,code_flatbuffers,\n                                  data_bin,data_bidx,data_lua,data_json,data_json_monolithic,data_bson,data_yaml,\n                                  data_template,data_protobuf_bin,data_protobuf_json,data_flatbuffers_json,\n                                  convert_json,convert_lua,convert_xlsx,convert_template\n\n--validate_root_dir <path validate root dir>. 可选参数。 配置path检查的根目录。\n\n--output_data_dir <output data dir>     可选参数。 导出的数据文件的目录。只生成代码时可不指定。\n\n--output:data:compact_json                   可选参数。默认导出的json格式为对齐后的优雅格式，使用此参数后导出紧凑的不带空格和换行的格式。\n--output:data:file_extension  <output data file extension>     可选参数。 导出数据文件的后缀。默认按照生成类型自动选择。\n--output:exclude_tags <tag1,tag2>           可选参数。导出时排除包含这些tag的数据\n--output:tables <table1,table2...>          可选参数。手动指定导出哪些表。覆盖group中设置\n--output:include_tables <table1,table2...>  可选参数。除了group中设置外，额外新增表。\n--output:exclude_tables <table1,table2...>  可选参数。排除group中指定的表。\n\n--output:convert:file_extension <extension> 可选参数。 convert数据文件的后缀。默认按照模板名猜测。\n\n--template:code:dir <dir name>              可选参数。自定义额外代码模板的目录名\n--template:data:file  <template name>       可选参数。数据模板的名称（不包含后缀），当gen_types包含 data_template时必须指定。\n--template:convert:file <template name>     可选参数。convert模板的名称（不包含后缀），当gen_types包含convert_template时必须指定。\n\n\n--naming_convention:module <convention>     可选参数。生成代码中模板名的命名约定，可用值为 language_recommend,none,camelCase,PascalCase,under_scores。 默认为language_recommend，即选择与相应语言推荐的命名约定风格。 此选项目前未生效。\n--naming_convention:bean_member <convention> 可选参数。生成代码中bean类型字段名的命名约定，可用值为 language_recommend,none,camelCase,PascalCase,under_scores。 默认为language_recommend。\n--naming_convention:enum_member <convention> 可选参数。生成代码中enum类型名的命名约定，可用值为 language_recommend,none,camelCase,PascalCase,under_scores。 默认为language_recommend。此选项目前未生效。\n--access_bean_member <access mode>  可选参数。 bean属性的访问方式。可用值为language_recommend,variable,getter_setter,property。默认为 language_recommend。此字段目前未生效。\n\n--l10n:timezone <timezone>           可选参数。 指定所在时区。影响datetime类型转换为utc时间。 默认为中国北京时间。\n--l10n:input_text_files <file1,file2..> 可选参数。 本地化的文本映射表。可以有多个。\n--l10n:text_field_name <field name>     可选参数。 文本映射表中，目标映射列的列名，默认为text\n--l10n:output_not_translated_text_file <file> 可选参数。 未被本地化映射的text key和value的输出文件。不提供该参数则不生成\n--l10n:patch <patch name>                  可选参数。当前需要生成的分支名称。\n--l10n:patch_input_data_dir <patch data root dir> 可选参数。分支数据的根目录。\n\n--typescript:bright_require_path <path>    可选参数。生成typescript代码引用的bright模块的路径\n--typescript:bright_package_name <packet>  可选参数。生成typescript代码以包形式引用bright库的路径\n--typescript:use_puerts_bytebuf            可选参数。生成typescript代码中使用puerts中导入的c# Bytebuf类。\n--cs:use_unity_vector                      可选参数。生成c#代码中，使用UnityEngine.Vector{2,3,4}作为Vector数据类型。\n--go:bright_module_name <module path>      可选参数。生成go代码时，bright module的import目录。\n\n--external:selectors  <selector1,selector2 ...>       可选参数。 外部类选择器，可以多个。selector必须是root.xml中externalselector中定义的选择器之一。\n")])])]),t("h4",{attrs:{id:"gen-types-参数介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gen-types-参数介绍"}},[a._v("#")]),a._v(" gen_types 参数介绍")]),a._v(" "),t("p",[a._v("目前支持的 gen_types 有")]),a._v(" "),t("ul",[t("li",[a._v("代码生成相关\n"),t("ul",[t("li",[a._v("code_cs_bin               生成dotnet平台的读取bin格式数据的代码。与code_cs_unity_bin区别在于它生成的vector{2,3,4}类型为System.Numerics.Vector{2,3,4}")]),a._v(" "),t("li",[a._v("code_cs_unity_bin         生成适合unity的读取bin格式数据的代码。与code_cs_bin区别在于它生成的vector{2,3,4}类型为UnityEngine.Vector{2,3,4}")]),a._v(" "),t("li",[a._v("code_cs_dotnet_json       生成dotnet平台的读取json格式数据的代码。与code_cs_unity_json区别在于它生成的vector{2,3,4}类型为System.Numerics.Vector{2,3,4}")]),a._v(" "),t("li",[a._v("code_cs_unity_json        生成适合unity的读取json格式数据的代码。与code_cs_dotnet_json区别在于它生成的vector{2,3,4}类型为UnityEngine.Vector{2,3,4}")]),a._v(" "),t("li",[a._v("code_cs_unity_editor_json 生成适用于unity编辑器开发的代码。可以单独将一个记录加载或者保存到json文件。")]),a._v(" "),t("li",[a._v("code_lua_bin              生成lua语言读取bin格式的代码")]),a._v(" "),t("li",[a._v("code_java_bin             生成java读取bin格式的代码")]),a._v(" "),t("li",[a._v("code_java_json            生成java读取json格式的代码")]),a._v(" "),t("li",[a._v("code_go_bin               生成go读取bin格式的代码")]),a._v(" "),t("li",[a._v("code_go_json              生成go读取json格式的代码")]),a._v(" "),t("li",[a._v("code_cpp_bin              生成cpp读取bin格式的代码")]),a._v(" "),t("li",[a._v("code_cpp_ue_editor_json   生成适用于UE4编辑器开发的代码。可以单独将一个记录加载或者保存到json文件")]),a._v(" "),t("li",[a._v("code_python27_json        生成python2系列读取json格式的代码")]),a._v(" "),t("li",[a._v("code_python3_json         生成python3系列读取json格式的代码")]),a._v(" "),t("li",[a._v("code_gdscript_json        生成gdscript系列读取json格式的代码")]),a._v(" "),t("li",[a._v("code_typescript_bin       生成ts读取bin格式的代码")]),a._v(" "),t("li",[a._v("code_typescript_json      生成ts读取json格式的代码")]),a._v(" "),t("li",[a._v("code_rust_json            生成rust读取json格式的代码")]),a._v(" "),t("li",[a._v("code_protobuf2            生成protobuf2 schema文件")]),a._v(" "),t("li",[a._v("code_protobuf3            生成protobuf3 schema文件")]),a._v(" "),t("li",[a._v("code_template             指示使用自定义代码模板")]),a._v(" "),t("li",[a._v("code_flatbuffers          生成flatbuffers schema文件")])])]),a._v(" "),t("li",[a._v("数据生成相关\n"),t("ul",[t("li",[a._v("data_bin 导出bin格式数据")]),a._v(" "),t("li",[a._v("data_bidx bin格式的索引数据。方便实现记录级别的延迟加载。")]),a._v(" "),t("li",[a._v("data_lua  导出lua格式数据")]),a._v(" "),t("li",[a._v("data_json 导出json格式数据")]),a._v(" "),t("li",[a._v("data_json_monolithic。 与data_json区别在于它把所有表的json数据文件生成到一个json文件中")]),a._v(" "),t("li",[a._v("data_bson 导出bson格式数据")]),a._v(" "),t("li",[a._v("data_yaml 导出yaml格式数据")]),a._v(" "),t("li",[a._v("data_xml 导出xml格式数据")]),a._v(" "),t("li",[a._v("data_template 自定义数据模板")]),a._v(" "),t("li",[a._v("data_protobuf_bin 导出protobuf的binary格式数据")]),a._v(" "),t("li",[a._v("data_protobuf_json 导出protobuf3的json数据格式")]),a._v(" "),t("li",[a._v("data_flatbuffers_json 导出flatbuffers的json数据格式")]),a._v(" "),t("li",[a._v("data_resources 导出所有带res标签的数据")])])]),a._v(" "),t("li",[a._v("源数据转换相关\n"),t("ul",[t("li",[a._v("convert_json 将源数据全部转换为json源数据格式。注意跟导出格式不一样。每个记录占一个文件")]),a._v(" "),t("li",[a._v("convert_lua 将源数据全部转换为lua源数据格式。每个记录占一个文件")]),a._v(" "),t("li",[a._v("convert_xlsx 将源数据全部转换为xlsx格式。每个表占一个文件的")]),a._v(" "),t("li",[a._v("convert_template 自定义转换模板。但每个记录占一个文件")])])])]),a._v(" "),t("h4",{attrs:{id:"cache-meta-文件的用途"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cache-meta-文件的用途"}},[a._v("#")]),a._v(" .cache.meta 文件的用途")]),a._v(" "),t("p",[a._v("第一次完成生成时，本地目录会产生一个 .cache.meta。")]),a._v(" "),t("p",[a._v(".cache.meta 里包含了与Luban.Server交互过程中涉及到的所有文件的 (路径， md5码， 长度，修改时间戳)信息。用于优化生成性能。")]),a._v(" "),t("p",[a._v("由于Luban.Client与Luban.Server的工作模型为云生成模型，Luban.Client向服务器发起生成请求后，服务器并不直接读取生成需要的配置文件，而是先获得\n这些文件的元信息（路径,md5）,如果内存缓存中有相同md5的文件，则直接读取，不再向客户端读取文件数据，这样极大提升了增量生成的性能。")]),a._v(" "),t("p",[a._v("服务器生成完成后，也会向客户端发送生成文件元数据列表，包含（路径、md5）这些元数据信息。如果本地不存在这些文件，则下载下载，如果已经存在，则检查\n是否有变化，此时Luban.Client并不会直接读取本地文件并且计算md5,而是先查询.cache.meta里是否有对应的文件md5信息，如果本地文件的长度和修改时间戳\n与.cache.meta里的相同，则认为.cache.meta里包含了正确的md5值，然后拿这个值到服务器生成的结果的md5对比，只有不相同，才会重新下载。")]),a._v(" "),t("h2",{attrs:{id:"示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[a._v("#")]),a._v(" 示例")]),a._v(" "),t("p",[a._v("假设")]),a._v(" "),t("p",[a._v("luban.server 运行在本机，端口为8899\nluban.client的位置在 d:\\tools\\Luban.Client\n配置定义在 d:\\raw_config\\defines\n配置定义的根定义文件为 d:\\raw_config\\defines_"),t("em",[a._v("root")]),a._v("_.xml\n配置数据在 d:\\raw_configs\\datas")]),a._v(" "),t("p",[a._v("client项目为unity项目，位置在 d:\\client\n你期望client生成的代码在 d:\\client\\Assets\\Gen 目录\n你期望client生成的数据在 d:\\client\\Assets\\StreamingAssets\\GameData 目录")]),a._v(" "),t("p",[a._v("你们服务器项目为 dotnet c#项目，位置在d:\\server\n你期望server生成的代码在 d:\\server\\src\\Gen\n你期望server生成的数据在 d:\\server\\GameData")]),a._v(" "),t("h3",{attrs:{id:"案例1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#案例1"}},[a._v("#")]),a._v(" 案例1")]),a._v(" "),t("p",[a._v("你要为客户端生成代码和数据。\n你期望使用bin格式的导出数据类型\n你为客户端选择的service分组为 client\n当前在开发期，你期望导出数据中包含测试数据")]),a._v(" "),t("p",[a._v("则win下命令为：")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("dotnet d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("tools"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Luban.Client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Luban.Client.dll ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1 ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8899")]),a._v(" ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" cfg ^\n    -- ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--define_file")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("raw_config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("defines"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("__root__.xml ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--input_data_dir")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("raw_configs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("datas ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--output_code_dir")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Assets"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Gen ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--output_data_dir")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Assets"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("StreamingAssets"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("GameData ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--gen_types")]),a._v(" code_cs_unity_bin,data_bin ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--service")]),a._v(" client\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br")])]),t("p",[a._v("linux bash命令同理。")]),a._v(" "),t("h3",{attrs:{id:"案例2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#案例2"}},[a._v("#")]),a._v(" 案例2")]),a._v(" "),t("p",[a._v("你要为客户端生成代码和数据。\n你期望使用json格式导出数据类型。\n你不期望导出数据中包含dev和test标签的数据")]),a._v(" "),t("p",[a._v("则win下命令为:")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("dotnet d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("tools"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Luban.Client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Luban.Client.dll ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1 ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8899")]),a._v(" ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" cfg ^\n    -- ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--define_file")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("raw_config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("defines"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("__root__.xml ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--input_data_dir")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("raw_configs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("datas ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--output_code_dir")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Assets"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Gen ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--output_data_dir")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Assets"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("StreamingAssets"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("GameData ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--gen_types")]),a._v(" code_cs_unity_json,data_json ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--service")]),a._v(" client ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--export_exclude_tags")]),a._v(" dev,test\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br")])]),t("h3",{attrs:{id:"案例3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#案例3"}},[a._v("#")]),a._v(" 案例3")]),a._v(" "),t("p",[a._v("你要为服务器生成代码和数据。")]),a._v(" "),t("p",[a._v("你期望使用json导出数据格式。\n你期望包含测试数据。\n你为服务器选择的service为server")]),a._v(" "),t("p",[a._v("则 win下命令为：")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("dotnet d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("tools"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Luban.Client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Luban.Client.dll ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1 ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8899")]),a._v(" ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" cfg ^\n    -- ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--define_file")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("raw_config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("defines"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("__root__.xml ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--input_data_dir")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("raw_configs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("datas ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--output_code_dir")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("server"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("src"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Gen ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--output_data_dir")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("server"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("GameData ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--gen_types")]),a._v(" code_cs_json,data_json ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--service")]),a._v(" server\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br")])]),t("h3",{attrs:{id:"案例4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#案例4"}},[a._v("#")]),a._v(" 案例4")]),a._v(" "),t("p",[a._v("luban-server 被你部属在 192.168.1.10这台机器上，端口为1111。其他的如案例3。")]),a._v(" "),t("p",[a._v("则 win下的生成命令为：")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("dotnet d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("tools"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Luban.Client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Luban.Client.dll ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".1.10 ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1111")]),a._v(" ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" cfg ^\n    -- ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--define_file")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("raw_config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("defines"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("__root__.xml ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--input_data_dir")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("raw_configs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("datas ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--output_code_dir")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("server"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("src"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Gen ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--output_data_dir")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("server"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("GameData ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--gen_types")]),a._v(" code_cs_dotnet_json,data_json ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--service")]),a._v(" server\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br")])]),t("h3",{attrs:{id:"案例5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#案例5"}},[a._v("#")]),a._v(" 案例5")]),a._v(" "),t("p",[a._v("你要为服务器生成代码和数据。同时让luban.client执行生成后不退出，进入监控状态，只要配置定义或者数据有变化，就自动生成代码和数据。")]),a._v(" "),t("p",[a._v("你期望使用json导出数据格式。\n你期望包含测试数据。\n你为服务器选择的service为server")]),a._v(" "),t("p",[a._v("则 win下命令为：")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("dotnet d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("tools"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Luban.Client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Luban.Client.dll ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1 ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8899")]),a._v(" ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" cfg ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-w")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("raw_config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("defines"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("raw_configs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("datas\n    -- ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--define_file")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("raw_config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("defines"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("__root__.xml ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--input_data_dir")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("raw_configs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("datas ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--output_code_dir")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("server"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("src"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Gen ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--output_data_dir")]),a._v(" d:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("server"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("GameData ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--gen_types")]),a._v(" code_cs_dotnet_json,data_json ^\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--service")]),a._v(" server   \n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br")])])])}),[],!1,null,null,null);t.default=s.exports}}]);