(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{434:function(e,t,n){"use strict";n.r(t);var r=n(7),i=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"code-clipping-problem"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#code-clipping-problem"}},[e._v("#")]),e._v(" Code clipping problem")]),e._v(" "),t("p",[e._v("Unity uses "),t("a",{attrs:{href:"https://docs.unity3d.com/Manual/ManagedCodeStripping.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Code Stripping"),t("OutboundLink")],1),e._v(" technology to help reduce the package size of the il2cpp backend. If anti-cutting processing is not performed, since there are generally not many codes in the AOT main project, a large number of C# types and functions are\nClipping, resulting in the following exceptions when calling these clipped classes or functions during hot update:")]),e._v(" "),t("div",{staticClass:"language-txt line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-txt"}},[t("code",[e._v("     // missing type error\n     Unity: TypeLoadException: Could not load type 'Xxx' from assembly 'yyy'\n\n     // missing function error\n     MissingMethodException: xxxx\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br")])]),t("h2",{attrs:{id:"solution"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#solution"}},[e._v("#")]),e._v(" Solution")]),e._v(" "),t("p",[e._v("The standard solution is to determine which type or function is cut according to the log error log, and then keep this type or function in link.xml, or\nAdd calls to these classes or functions explicitly in the main project.")]),e._v(" "),t("p",[e._v("If you are not familiar with how to preserve this type or function in link.xml, please refer to "),t("a",{attrs:{href:"https://docs.unity3d.com/Manual/ManagedCodeStripping.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Code Stripping"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[e._v('But this method is very troublesome after all. There are a lot of cut types in the actual project, and you perform the operation of "package-type missing-supplement-package" over and over again,\nWasted a lot of time. '),t("RouterLink",{attrs:{to:"/hybridclr/hybridclr_unity/"}},[e._v("hybridclr_unity package")]),e._v(" provides a convenient generation script,\nYou can run the menu "),t("code",[e._v("HybridCLR/Generate/LinkXml")]),e._v(" to generate all AOT types and function references in the hot update project with one click. see details\nThe documentation for the hybridclr_unity package states.")],1),e._v(" "),t("h2",{attrs:{id:"aot-type-and-function-reserved"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#aot-type-and-function-reserved"}},[e._v("#")]),e._v(" AOT type and function reserved")]),e._v(" "),t("p",[e._v("Although hybridclr_unity's link generation script can intelligently scan out the AOT type you are currently referencing, it cannot predict the AOT type you will use in the future\ntype. Therefore, you still need to plan ahead in "),t("code",[e._v("Assets/link.xml")]),e._v(" (note! Not the automatically generated link.xml) to reserve your future\ntypes that may be used. Remember not to miss it, so as to avoid the embarrassing situation that the type used in a certain update is cut after it goes online!")])])}),[],!1,null,null,null);t.default=i.exports}}]);