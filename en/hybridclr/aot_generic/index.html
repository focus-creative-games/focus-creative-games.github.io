<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>AOT generic problem | Code Philosophy</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/img/favicon.png">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <meta name="description" content="Code Philosophy是一个业内领先的专注于提供游戏行业深度技术解决方案的创新型公司。">
    <meta name="keywords" content="HybridCLR,luban,热更新,配表,配置,游戏,git,github">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.de16ca54.css" as="style"><link rel="preload" href="/assets/js/app.12d5fdbe.js" as="script"><link rel="preload" href="/assets/js/2.0771a7ec.js" as="script"><link rel="preload" href="/assets/js/115.d7da7753.js" as="script"><link rel="preload" href="/assets/js/3.8d0c7075.js" as="script"><link rel="prefetch" href="/assets/js/10.d15b8a0c.js"><link rel="prefetch" href="/assets/js/100.59f432fb.js"><link rel="prefetch" href="/assets/js/101.3de7bbde.js"><link rel="prefetch" href="/assets/js/102.4a0758d3.js"><link rel="prefetch" href="/assets/js/103.26383b9f.js"><link rel="prefetch" href="/assets/js/104.a1da4ecb.js"><link rel="prefetch" href="/assets/js/105.ef6a6e83.js"><link rel="prefetch" href="/assets/js/106.da96dd79.js"><link rel="prefetch" href="/assets/js/107.ec48bd70.js"><link rel="prefetch" href="/assets/js/108.0f684202.js"><link rel="prefetch" href="/assets/js/109.2a494194.js"><link rel="prefetch" href="/assets/js/11.764b6824.js"><link rel="prefetch" href="/assets/js/110.84415013.js"><link rel="prefetch" href="/assets/js/111.b2685030.js"><link rel="prefetch" href="/assets/js/112.d97b1c0a.js"><link rel="prefetch" href="/assets/js/113.fc2f8b72.js"><link rel="prefetch" href="/assets/js/114.389fdf76.js"><link rel="prefetch" href="/assets/js/116.7ba543d5.js"><link rel="prefetch" href="/assets/js/117.d7087ed2.js"><link rel="prefetch" href="/assets/js/118.afcabf3e.js"><link rel="prefetch" href="/assets/js/119.2bcae880.js"><link rel="prefetch" href="/assets/js/12.8d2b0d29.js"><link rel="prefetch" href="/assets/js/120.e7473c03.js"><link rel="prefetch" href="/assets/js/121.e7f1865f.js"><link rel="prefetch" href="/assets/js/122.1ee03f15.js"><link rel="prefetch" href="/assets/js/123.8c8de603.js"><link rel="prefetch" href="/assets/js/124.1c8fa702.js"><link rel="prefetch" href="/assets/js/125.92167af0.js"><link rel="prefetch" href="/assets/js/126.d729738c.js"><link rel="prefetch" href="/assets/js/127.291f69f0.js"><link rel="prefetch" href="/assets/js/128.08210df8.js"><link rel="prefetch" href="/assets/js/129.40b77886.js"><link rel="prefetch" href="/assets/js/13.e0289cd0.js"><link rel="prefetch" href="/assets/js/130.8305c052.js"><link rel="prefetch" href="/assets/js/131.5e6ae27f.js"><link rel="prefetch" href="/assets/js/132.d9c12ddc.js"><link rel="prefetch" href="/assets/js/133.82886760.js"><link rel="prefetch" href="/assets/js/134.6f64a5d9.js"><link rel="prefetch" href="/assets/js/135.b90b8356.js"><link rel="prefetch" href="/assets/js/136.24e466af.js"><link rel="prefetch" href="/assets/js/137.aaf435ae.js"><link rel="prefetch" href="/assets/js/138.00c60cde.js"><link rel="prefetch" href="/assets/js/139.14e869b2.js"><link rel="prefetch" href="/assets/js/14.81465e75.js"><link rel="prefetch" href="/assets/js/140.de231325.js"><link rel="prefetch" href="/assets/js/141.4ad5ea60.js"><link rel="prefetch" href="/assets/js/142.f36e159e.js"><link rel="prefetch" href="/assets/js/143.2e4611d8.js"><link rel="prefetch" href="/assets/js/144.e9ebb3fa.js"><link rel="prefetch" href="/assets/js/145.1a9f5fad.js"><link rel="prefetch" href="/assets/js/146.624849a0.js"><link rel="prefetch" href="/assets/js/147.461906c5.js"><link rel="prefetch" href="/assets/js/148.d28d7aaa.js"><link rel="prefetch" href="/assets/js/149.9784b5ed.js"><link rel="prefetch" href="/assets/js/15.6b1ebda0.js"><link rel="prefetch" href="/assets/js/150.240e44d2.js"><link rel="prefetch" href="/assets/js/151.604089c9.js"><link rel="prefetch" href="/assets/js/152.f73b8be0.js"><link rel="prefetch" href="/assets/js/153.e16a3cbb.js"><link rel="prefetch" href="/assets/js/16.9f462aa4.js"><link rel="prefetch" href="/assets/js/17.f6132239.js"><link rel="prefetch" href="/assets/js/18.a0728471.js"><link rel="prefetch" href="/assets/js/19.647597ef.js"><link rel="prefetch" href="/assets/js/20.113a110f.js"><link rel="prefetch" href="/assets/js/21.e8949420.js"><link rel="prefetch" href="/assets/js/22.715d702b.js"><link rel="prefetch" href="/assets/js/23.0c731f9a.js"><link rel="prefetch" href="/assets/js/24.83715717.js"><link rel="prefetch" href="/assets/js/25.a6efb8d9.js"><link rel="prefetch" href="/assets/js/26.876b7bf2.js"><link rel="prefetch" href="/assets/js/27.7e6a1fbc.js"><link rel="prefetch" href="/assets/js/28.c9603a98.js"><link rel="prefetch" href="/assets/js/29.7a6ffd69.js"><link rel="prefetch" href="/assets/js/30.bbdcda14.js"><link rel="prefetch" href="/assets/js/31.441495f6.js"><link rel="prefetch" href="/assets/js/32.516dc27e.js"><link rel="prefetch" href="/assets/js/33.796a4638.js"><link rel="prefetch" href="/assets/js/34.b844a239.js"><link rel="prefetch" href="/assets/js/35.4489eede.js"><link rel="prefetch" href="/assets/js/36.4944cc18.js"><link rel="prefetch" href="/assets/js/37.2b295b6f.js"><link rel="prefetch" href="/assets/js/38.c7f25fa6.js"><link rel="prefetch" href="/assets/js/39.f350b082.js"><link rel="prefetch" href="/assets/js/4.e8f1cdb3.js"><link rel="prefetch" href="/assets/js/40.6346e1bc.js"><link rel="prefetch" href="/assets/js/41.703948ac.js"><link rel="prefetch" href="/assets/js/42.cb158675.js"><link rel="prefetch" href="/assets/js/43.a6366a4f.js"><link rel="prefetch" href="/assets/js/44.67b267cd.js"><link rel="prefetch" href="/assets/js/45.d9ded0f6.js"><link rel="prefetch" href="/assets/js/46.dce204c1.js"><link rel="prefetch" href="/assets/js/47.f59b1714.js"><link rel="prefetch" href="/assets/js/48.e72d5a9a.js"><link rel="prefetch" href="/assets/js/49.57c226c6.js"><link rel="prefetch" href="/assets/js/5.765a6984.js"><link rel="prefetch" href="/assets/js/50.696d3556.js"><link rel="prefetch" href="/assets/js/51.f9fcee2c.js"><link rel="prefetch" href="/assets/js/52.e8d8f311.js"><link rel="prefetch" href="/assets/js/53.cb8fbe86.js"><link rel="prefetch" href="/assets/js/54.4df421a2.js"><link rel="prefetch" href="/assets/js/55.5a9cb469.js"><link rel="prefetch" href="/assets/js/56.7e073255.js"><link rel="prefetch" href="/assets/js/57.6756691b.js"><link rel="prefetch" href="/assets/js/58.9d1c4a46.js"><link rel="prefetch" href="/assets/js/59.a560b055.js"><link rel="prefetch" href="/assets/js/6.ddf0c9b8.js"><link rel="prefetch" href="/assets/js/60.a23590d0.js"><link rel="prefetch" href="/assets/js/61.5b3a43f9.js"><link rel="prefetch" href="/assets/js/62.72a56b46.js"><link rel="prefetch" href="/assets/js/63.ceded64f.js"><link rel="prefetch" href="/assets/js/64.f26c8cb9.js"><link rel="prefetch" href="/assets/js/65.fb45c073.js"><link rel="prefetch" href="/assets/js/66.83ebce20.js"><link rel="prefetch" href="/assets/js/67.eff63cf4.js"><link rel="prefetch" href="/assets/js/68.8bb955ae.js"><link rel="prefetch" href="/assets/js/69.dae7cec8.js"><link rel="prefetch" href="/assets/js/7.32660699.js"><link rel="prefetch" href="/assets/js/70.20e84c9c.js"><link rel="prefetch" href="/assets/js/71.6c135456.js"><link rel="prefetch" href="/assets/js/72.a6cef57b.js"><link rel="prefetch" href="/assets/js/73.ea109d55.js"><link rel="prefetch" href="/assets/js/74.31bd4677.js"><link rel="prefetch" href="/assets/js/75.e90da937.js"><link rel="prefetch" href="/assets/js/76.74f061bb.js"><link rel="prefetch" href="/assets/js/77.4a1bfa57.js"><link rel="prefetch" href="/assets/js/78.7847ecac.js"><link rel="prefetch" href="/assets/js/79.5fa65e36.js"><link rel="prefetch" href="/assets/js/8.62b0d450.js"><link rel="prefetch" href="/assets/js/80.008f19fa.js"><link rel="prefetch" href="/assets/js/81.e245ac7c.js"><link rel="prefetch" href="/assets/js/82.8f5a662c.js"><link rel="prefetch" href="/assets/js/83.cc9a1992.js"><link rel="prefetch" href="/assets/js/84.dcf087c6.js"><link rel="prefetch" href="/assets/js/85.be5afefb.js"><link rel="prefetch" href="/assets/js/86.97d6599a.js"><link rel="prefetch" href="/assets/js/87.1df10b08.js"><link rel="prefetch" href="/assets/js/88.f5a3d153.js"><link rel="prefetch" href="/assets/js/89.1a78c9ca.js"><link rel="prefetch" href="/assets/js/9.f51c0ef6.js"><link rel="prefetch" href="/assets/js/90.dfb15931.js"><link rel="prefetch" href="/assets/js/91.a5bdf350.js"><link rel="prefetch" href="/assets/js/92.4d4d7050.js"><link rel="prefetch" href="/assets/js/93.4ce8faaa.js"><link rel="prefetch" href="/assets/js/94.13bd2ab5.js"><link rel="prefetch" href="/assets/js/95.f941715f.js"><link rel="prefetch" href="/assets/js/96.6adeb803.js"><link rel="prefetch" href="/assets/js/97.6e1aaaf3.js"><link rel="prefetch" href="/assets/js/98.53de0dca.js"><link rel="prefetch" href="/assets/js/99.6f94e8b5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.de16ca54.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/en/" class="home-link router-link-active"><img src="/img/logo.png" alt="Code Philosophy" class="logo"> <span class="site-name can-hide">Code Philosophy</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/en/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HybridCLR" class="dropdown-title"><!----> <span class="title" style="display:;">HybridCLR</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/hybridclr/about/" class="nav-link">About</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/monobehaviour/" class="nav-link">Get Started</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/benchmark/" class="nav-link">Benchmark</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/faq/" class="nav-link">FAQ</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/common_errors/" class="nav-link">Common Mistakes</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/bug_reporter/" class="nav-link">Report Bugs</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Luban" class="dropdown-title"><a href="/en/luban/index/" class="link-title">Luban</a> <span class="title" style="display:none;">Luban</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/luban/about/" class="nav-link">About</a></li><li class="dropdown-item"><!----> <a href="/en/luban/start_up/" class="nav-link">Get Started</a></li><li class="dropdown-item"><!----> <a href="/en/luban/command_tools/" class="nav-link">Complete Features</a></li><li class="dropdown-item"><!----> <a href="/en/luban/data_source/" class="nav-link">Data Source</a></li><li class="dropdown-item"><!----> <a href="/en/luban/advanced/validator/" class="nav-link">Advanced Features</a></li><li class="dropdown-item"><!----> <a href="/en/luban/tools/" class="nav-link">Luban Tools</a></li></ul></div></div><div class="nav-item"><a href="/en/hybridclr/price/" class="nav-link">Service</a></div><div class="nav-item"><a href="/en/join/" class="nav-link">Jobs</a></div><div class="nav-item"><a href="https://www.zhihu.com/column/c_1489549396035870720" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Zhihu
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/en/about/" class="nav-link">About</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><!----> <span class="title" style="display:;">切换语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hybridclr/aot_generic/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/aot_generic/" aria-current="page" class="nav-link router-link-exact-active router-link-active">English</a></li></ul></div></div> <a href="https://github.com/focus-creative-games" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/en/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HybridCLR" class="dropdown-title"><!----> <span class="title" style="display:;">HybridCLR</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/hybridclr/about/" class="nav-link">About</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/monobehaviour/" class="nav-link">Get Started</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/benchmark/" class="nav-link">Benchmark</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/faq/" class="nav-link">FAQ</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/common_errors/" class="nav-link">Common Mistakes</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/bug_reporter/" class="nav-link">Report Bugs</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Luban" class="dropdown-title"><a href="/en/luban/index/" class="link-title">Luban</a> <span class="title" style="display:none;">Luban</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/luban/about/" class="nav-link">About</a></li><li class="dropdown-item"><!----> <a href="/en/luban/start_up/" class="nav-link">Get Started</a></li><li class="dropdown-item"><!----> <a href="/en/luban/command_tools/" class="nav-link">Complete Features</a></li><li class="dropdown-item"><!----> <a href="/en/luban/data_source/" class="nav-link">Data Source</a></li><li class="dropdown-item"><!----> <a href="/en/luban/advanced/validator/" class="nav-link">Advanced Features</a></li><li class="dropdown-item"><!----> <a href="/en/luban/tools/" class="nav-link">Luban Tools</a></li></ul></div></div><div class="nav-item"><a href="/en/hybridclr/price/" class="nav-link">Service</a></div><div class="nav-item"><a href="/en/join/" class="nav-link">Jobs</a></div><div class="nav-item"><a href="https://www.zhihu.com/column/c_1489549396035870720" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Zhihu
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/en/about/" class="nav-link">About</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><!----> <span class="title" style="display:;">切换语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hybridclr/aot_generic/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/aot_generic/" aria-current="page" class="nav-link router-link-exact-active router-link-active">English</a></li></ul></div></div> <a href="https://github.com/focus-creative-games" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Content</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>About</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>hybridclr</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/hybridclr/about/" class="sidebar-link">About HybridCLR</a></li><li><a href="/en/hybridclr/start_up/" class="sidebar-link">Get started quickly</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Tutorial</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Principle</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/hybridclr/build_pipeline/" class="sidebar-link">HybridCLR packaging workflow</a></li><li><a href="/en/hybridclr/monobehaviour/" class="sidebar-link">Hot update MonoBehaviour</a></li><li><a href="/en/hybridclr/build_ios_libil2cpp/" class="sidebar-link">iOS packaging</a></li><li><a href="/en/hybridclr/differential_hybrid_execution/" class="sidebar-link">Differential Hybrid Execution</a></li><li><a href="/en/hybridclr/hybridclr_unity/" class="sidebar-link">Introduce hybridclr_unity Package</a></li><li><a href="/en/hybridclr/modify_unity_dll/" class="sidebar-link">Modify Unity editor related dll</a></li><li><a href="/en/hybridclr/code_striping/" class="sidebar-link">Code clipping problem</a></li><li><a href="/en/hybridclr/aot_generic/" aria-current="page" class="active sidebar-link">AOT generic problem</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/en/hybridclr/aot_generic/#generic-sharing-mechanism-of-il2cpp" class="sidebar-link">Generic sharing mechanism of il2cpp</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/en/hybridclr/aot_generic/#shared-type-calculation-rules" class="sidebar-link">Shared type calculation rules</a></li><li class="sidebar-sub-header level4"><a href="/en/hybridclr/aot_generic/#non-enumeration-value-types" class="sidebar-link">Non-enumeration value types</a></li><li class="sidebar-sub-header level4"><a href="/en/hybridclr/aot_generic/#enum-type" class="sidebar-link">Enum Type</a></li><li class="sidebar-sub-header level4"><a href="/en/hybridclr/aot_generic/#class-reference-type" class="sidebar-link">class reference type</a></li><li class="sidebar-sub-header level4"><a href="/en/hybridclr/aot_generic/#generic-types" class="sidebar-link">Generic Types</a></li><li class="sidebar-sub-header level3"><a href="/en/hybridclr/aot_generic/#shared-generic-function-calculation-rules-for-generic-functions" class="sidebar-link">Shared generic function calculation rules for generic functions</a></li><li class="sidebar-sub-header level3"><a href="/en/hybridclr/aot_generic/#the-reason-why-the-value-type-in-il2cpp-does-not-support-generic-sharing" class="sidebar-link">The reason why the value type in il2cpp does not support generic sharing</a></li><li class="sidebar-sub-header level4"><a href="/en/hybridclr/aot_generic/#problems-caused-by-memory-alignment" class="sidebar-link">Problems caused by memory alignment</a></li><li class="sidebar-sub-header level4"><a href="/en/hybridclr/aot_generic/#abi-issues" class="sidebar-link">ABI issues</a></li><li class="sidebar-sub-header level3"><a href="/en/hybridclr/aot_generic/#aot-generic-problems-caused-by-mechanisms-such-as-async-and-ienumerable" class="sidebar-link">AOT generic problems caused by mechanisms such as async and IEnumerable</a></li><li class="sidebar-sub-header level3"><a href="/en/hybridclr/aot_generic/#aot-generic-instantiation-example" class="sidebar-link">AOT generic instantiation example</a></li><li class="sidebar-sub-header level4"><a href="/en/hybridclr/aot_generic/#example-1" class="sidebar-link">Example 1</a></li><li class="sidebar-sub-header level4"><a href="/en/hybridclr/aot_generic/#example-2" class="sidebar-link">Example 2</a></li><li class="sidebar-sub-header level4"><a href="/en/hybridclr/aot_generic/#example-3" class="sidebar-link">Example 3</a></li><li class="sidebar-sub-header level3"><a href="/en/hybridclr/aot_generic/#defects-of-the-generic-sharing-mechanism" class="sidebar-link">Defects of the generic sharing mechanism</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/en/hybridclr/aot_generic/#generic-function-instantiation-technology-based-on-supplementary-metadata-hybridclr-s-patented-technology" class="sidebar-link">Generic function instantiation technology based on supplementary metadata (HybridCLR's patented technology)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/en/hybridclr/aot_generic/#metadata-mode-homologousimagemode" class="sidebar-link">Metadata Mode HomologousImageMode</a></li><li class="sidebar-sub-header level3"><a href="/en/hybridclr/aot_generic/#load-supplementary-metadata-sample-code" class="sidebar-link">Load supplementary metadata sample code</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/en/hybridclr/aot_generic/#full-generic-share-technical-supplementary-introduction" class="sidebar-link">full generic share technical supplementary introduction</a></li></ul></li><li><a href="/en/hybridclr/method_bridge/" class="sidebar-link">AOT-interpreter bridge function</a></li><li><a href="/en/hybridclr/memory/" class="sidebar-link">Memory-related principles</a></li><li><a href="/en/hybridclr/performance/" class="sidebar-link">Execution performance</a></li><li><a href="/en/hybridclr/limit/" class="sidebar-link">Limit</a></li><li><a href="/en/hybridclr/work_with_script_language/" class="sidebar-link">HybridCLR+lua/js/python</a></li><li><a href="/en/hybridclr/monopinvokecallback/" class="sidebar-link">MonoPInvokeCallback Support</a></li><li><a href="/en/hybridclr/supported_unity_versions/" class="sidebar-link">Version Matching Rules</a></li><li><a href="/en/hybridclr/supported_platform/" class="sidebar-link">Cross-platform Support</a></li><li><a href="/en/hybridclr/source_inspect/" class="sidebar-link">HybridCLR source code structure and debugging</a></li><li><a href="/en/hybridclr/best_practices/" class="sidebar-link">Best Practices</a></li><li><a href="/en/hybridclr/129afe/" class="sidebar-link">il2cpp bugs</a></li></ul></section></li><li><a href="/en/hybridclr/faq/" class="sidebar-link">FAQ</a></li><li><a href="/en/hybridclr/benchmark/" class="sidebar-link">Testing Report</a></li><li><a href="/en/hybridclr/business_games/" class="sidebar-link">Already launched commercial projects</a></li><li><a href="/en/hybridclr/common_errors/" class="sidebar-link">Common Errors</a></li><li><a href="/en/hybridclr/bug_reporter/" class="sidebar-link">BUG Feedback Template</a></li><li><a href="/en/hybridclr/recommended-tools/" class="sidebar-link">Related Third-party Projects</a></li><li><a href="/en/hybridclr/roadmap/" class="sidebar-link">Roadmap</a></li><li><a href="/en/hybridclr/development_story/" class="sidebar-link">Development History</a></li><li><a href="/en/hybridclr/price/" class="sidebar-link">Commercial Service</a></li><li><a href="/en/hybridclr/donate/" class="sidebar-link">Acknowledgments</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>luban</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>gidb</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=en" title="分类" data-v-06225672>en</a></li><li data-v-06225672><a href="/categories/?category=hybridclr" title="分类" data-v-06225672>hybridclr</a></li><li data-v-06225672><a href="/categories/?category=Principle" title="分类" data-v-06225672>Principle</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https:://code-philosophy.com" target="_blank" title="作者" class="beLink" data-v-06225672>Code Philosophy</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-05-25</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">AOT generic problem<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="aot-generic-problem"><a href="#aot-generic-problem" class="header-anchor">#</a> AOT generic problem</h1> <p>There are two types of generic features in the CLR: generic types and generic functions. Generics are an extremely widely used feature in C#. Even a usage that does not explicitly contain generics may imply generic-related definitions or operations.</p> <p>In the CLR, a new instantiation of a generic type implies the need to create metadata about the generic instantiation type in memory. For the generic class defined in <strong>hot update code</strong>, HybirdCLR naturally supports its generic instantiation, but for the instantiation of <strong>AOT generic</strong>, some problems are encountered.</p> <p>il2cpp is an AOT runtime, and almost all (why not all?) types used in its runtime are statically determined at compile time. You have only instantiated <code>List&lt;int&gt;</code> and <code>List&lt;string&gt;</code> in AOT, you cannot use code like <code>new List&lt;float&gt;()</code> in hot update code.</p> <p>Although il2cpp can create most of the metadata of the <code>List&lt;float&gt;</code> type in memory, it cannot create its member function implementations.
You can get <code>typeof(List&lt;float&gt;)</code> through reflection, but you cannot call any of its member functions, including constructors.</p> <p>The essential reason why member function implementations of AOT generic types cannot be created is that il2cpp loses the original IL function body information after converting IL to c++ code.
As a result, the implementation of each member function of <code>List&lt;float&gt;</code> cannot be instantiated according to the metadata of the generic base class <code>List&lt;&gt;</code>.</p> <p>Generic classes, especially generic containers such as List and Dictionary are widely used in the code. If List&lt;HotUpdateType&gt; and the like cannot run due to AOT restrictions, then the code restriction for game hot update is too large. Fortunately, HybridCLR completely solves this problem using two types of techniques:</p> <ul><li><code>Generic sharing</code> technology based on il2cpp</li> <li>Based on <code>Supplementary Metadata</code> technology, which is also HybridCLR's patented technology</li></ul> <h2 id="generic-sharing-mechanism-of-il2cpp"><a href="#generic-sharing-mechanism-of-il2cpp" class="header-anchor">#</a> Generic sharing mechanism of il2cpp</h2> <p>In order to avoid generic code expansion and save memory, il2cpp generates only one code for some codes that can be shared while ensuring the correctness of code logic. To introduce a concept called <strong>generic code sharing</strong> <a href="https://blog.unity.com/technology/il2cpp-internals-generic-sharing-implementation" target="_blank" rel="noopener noreferrer">Generic Sharing<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, this technology originated from mono earlier . The same concept exists in the CLR. The CLR considers that all reference type actual parameters are the same, so code can be shared. For example, the code compiled for the List&lt;String&gt; method can be directly used for the List&lt;Stream&gt; method, because all reference type actual parameters The parameter/variable is just an 8-byte pointer pointing to the managed heap (64-bit system is assumed here), but for value types, code generation must be performed for each type, because the size of the value type is variable.</p> <p>Take List&lt;T&gt; as an example:</p> <ul><li>You can use any instantiation type of List used in AOT. For example, if you have used List&lt;vector3&gt; in AOT, you can also use it in hot update</li> <li>Any List&lt;HotUpdateEnum&gt; can be used. You only need to instantiate a certain List&lt;enumeration type of the same underlying type&gt; in AOT.</li> <li>The generic parameter List&lt;HotUpdateClass&gt; of any reference type can be used. You only need to instantiate List&lt;object&gt; (or any reference generic parameter such as List&lt;string&gt;) in AOT</li></ul> <h3 id="shared-type-calculation-rules"><a href="#shared-type-calculation-rules" class="header-anchor">#</a> Shared type calculation rules</h3> <p>Assuming that the shared type of the generic class T is share type, the calculation rules are as follows:</p> <h4 id="non-enumeration-value-types"><a href="#non-enumeration-value-types" class="header-anchor">#</a> Non-enumeration value types</h4> <p>The share type is itself. For example, the share type of int is int</p> <h4 id="enum-type"><a href="#enum-type" class="header-anchor">#</a> Enum Type</h4> <p>The share type is an enumeration whose underlying type is the same as it. E.g</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">enum</span> <span class="token class-name">MyEnum</span> 
<span class="token punctuation">{</span>
    A <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">enum</span> <span class="token class-name">MyEnum2</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token keyword">sbyte</span></span>
<span class="token punctuation">{</span>
    A <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Since the default underlying type of enum is int, the share type of MyEnum is Int32Enum, and the share type of MyEnum2 is SByteEnum. Note that there are no types such as Int32Enum and SByteEnum in the CLI, you need to create such an enumeration type in your AOT in advance.</p> <h4 id="class-reference-type"><a href="#class-reference-type" class="header-anchor">#</a> class reference type</h4> <p>share type is object</p> <h4 id="generic-types"><a href="#generic-types" class="header-anchor">#</a> Generic Types</h4> <p>GenericType&lt;T1,T2,...&gt; If it is a class type, the share type is object, otherwise the share type is GenericType&lt;shareType&lt;T1&gt;, shareType&lt;T2&gt;...&gt;.</p> <p>E.g</p> <ul><li>The share type of Dictionary&lt;int, string&gt; is object.</li> <li>The share type of YourValueType&lt;int, string&gt; is YourValueType&lt;int, object&gt;</li></ul> <h3 id="shared-generic-function-calculation-rules-for-generic-functions"><a href="#shared-generic-function-calculation-rules-for-generic-functions" class="header-anchor">#</a> Shared generic function calculation rules for generic functions</h3> <p>The AOT generic function for <code>Class&lt;C1, C2, ...&gt;.Method&lt;M1, M2, ...&gt;(A1, A2, ...)</code> is
<code>Class&lt;share(C1), share(C2), ...&gt;.Method&lt;share(M1), share(M2), ...&gt;(share(A1), share(A2), ...)</code></p> <ul><li><code>List&lt;string&gt;.ctor</code> corresponds to the shared function <code>List&lt;object&gt;.ctor</code></li> <li><code>List&lt;int&gt;.Add(int)</code> corresponds to the shared function <code>List&lt;int&gt;.Add(int)</code></li> <li>The shared function of <code>YourGenericClass&lt;string, int, List&lt;int&gt;&gt;.Show&lt;string, List&lt;int&gt;, int&gt;(ValueTuple&lt;int, string&gt;, string, int)</code> is <code>YourGenericClass&lt;object, int, object &gt;.Show&lt;object, object, int&gt;(ValueTuple&lt;int, object&gt;, object, int)</code></li></ul> <h3 id="the-reason-why-the-value-type-in-il2cpp-does-not-support-generic-sharing"><a href="#the-reason-why-the-value-type-in-il2cpp-does-not-support-generic-sharing" class="header-anchor">#</a> The reason why the value type in il2cpp does not support generic sharing</h3> <p>It is easy to understand that value types of different sizes cannot be shared, but why can't value types of the same size be shared generically like a class? There are two main reasons.</p> <h4 id="problems-caused-by-memory-alignment"><a href="#problems-caused-by-memory-alignment" class="header-anchor">#</a> Problems caused by memory alignment</h4> <p>Even if the value types have the same size, if the alignment is different, when they are used as subfields of other classes, the memory size and layout of the final class may be different.
In addition, when passing parameters to functions under different ABIs, aligment will also lead to different ways of passing parameters. E.g:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">struct</span> <span class="token class-name">A</span> <span class="token comment">// size = 4, alignment = 2</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">short</span></span> x<span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">short</span></span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">B</span> <span class="token comment">// size = 4，alignment = 4</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">int</span></span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">GenericDemo<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">short</span></span> x<span class="token punctuation">;</span>
    <span class="token class-name">T</span> v<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name">T</span> <span class="token function">GetValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> v<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><code>GenericDemo&lt;A&gt;</code> size=6, alignment=2, field v is offset by 2 in the class; and <code>GenericDemo&lt;B&gt;</code> size=8, alignment=4, field v is offset by 4 in the class. Obviously, for the GetValue function, due to the different offsets of v, it is impossible to use the same set of c++ codes to work correctly for these two classes.</p> <h4 id="abi-issues"><a href="#abi-issues" class="header-anchor">#</a> ABI issues</h4> <p>Structures of the same size and alignment are equivalent in <a href="https://docs.microsoft.com/zh-cn/cpp/build/x64-software-conventions?redirectedfrom=MSDN&amp;view=msvc-170" target="_blank" rel="noopener noreferrer">x64 ABI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> , you can use structures of the same size for shared generic instantiation. But it doesn't work in <a href="https://docs.microsoft.com/zh-cn/cpp/build/arm64-windows-abi-conventions?view=msvc-170" target="_blank" rel="noopener noreferrer">arm64 ABI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p><code>struct IntVec3 { int32_t x, y, z; }</code> and <code>struct FloatVec3 { float x, y, z}</code> are both 12 in size, but when they are passed as function parameters, the way of passing parameters is different:</p> <ul><li>IntVec3 is passed by reference</li> <li>The three fields of FloatVec3 are placed in three floating-point registers respectively</li></ul> <p>This is another key reason why structs cannot be shared generically.</p> <h3 id="aot-generic-problems-caused-by-mechanisms-such-as-async-and-ienumerable"><a href="#aot-generic-problems-caused-by-mechanisms-such-as-async-and-ienumerable" class="header-anchor">#</a> AOT generic problems caused by mechanisms such as async and IEnumerable</h3> <p>The compiler may generate implicit AOT generic references for complex syntactic sugar such as async. Therefore, in order for these mechanisms to work properly, the AOT generic instantiation problems caused by them must also be resolved.</p> <p>Taking async as an example, the compiler generates several classes, state machines and some codes for async. These hidden generated codes contain calls to multiple AOT generic functions. The common ones are:</p> <ul><li><code>void AsyncTaskMethodBuilder::Start&lt;TStateMachine&gt;(ref TStateMachine stateMachine)</code></li> <li><code>void AsyncTaskMethodBuilder::AwaitUnsafeOnCompleted&lt;TAwaiter, TStateMachine&gt;(ref TAwaiter awaiter, ref TStateMachine stateMachine)</code></li> <li><code>void AsyncTaskMethodBuilder::SetException(Exception exception)</code></li> <li><code>void AsyncTaskMethodBuilder::SetResult()</code></li> <li><code>void AsyncTaskMethodBuilder&lt;T&gt;::Start&lt;TStateMachine&gt;(ref TStateMachine stateMachine)</code></li> <li><code>void AsyncTaskMethodBuilder&lt;T&gt;::AwaitUnsafeOnCompleted&lt;TAwaiter, TStateMachine&gt;(ref TAwaiter awaiter, ref TStateMachine stateMachine)</code></li> <li><code>void AsyncTaskMethodBuilder&lt;T&gt;::SetException(Exception exception)</code></li> <li><code>void AsyncTaskMethodBuilder&lt;T&gt;::SetResult(T result)</code></li></ul> <p>Use the standard method of solving AOT generics to solve these problems. It is strongly recommended to use the Supplementary Metadata mechanism.</p> <p>You can also use the generic sharing mechanism, that is, instantiate these functions in advance in AOT, but <strong>Note</strong>, the state machine generated by the c# compiler in release mode is of the ValueType type, which makes it impossible to share generic types, but debug The state machine generated in the mode is of class type and can be shared generically. Therefore, if you use the generic sharing mechanism, in order to use the async syntax in the hot update, you must add the <code>scriptCompilationSettings.options = ScriptCompilationOptions.DevelopmentBuild;</code>  code when using the script to compile the dll, so that the compiled state machine is of class type and can work normally in the hot update code. If <code>Supplementary Metadata Technology</code> has been used, due to full support for AOT generics, there are <strong>unlimited</strong> compilation methods.</p> <p>It is <strong>STRONGLY</strong> recommended to use the Supplementary Metadata mechanism with the DevelopmentBuild option turned off.</p> <h3 id="aot-generic-instantiation-example"><a href="#aot-generic-instantiation-example" class="header-anchor">#</a> AOT generic instantiation example</h3> <h4 id="example-1"><a href="#example-1" class="header-anchor">#</a> Example 1</h4> <p>error log</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code>MissingMethodException<span class="token punctuation">:</span> AOT generic method isn'<span class="token class-name">t</span> instantiated <span class="token keyword">in</span> aot module 
  <span class="token return-type class-name"><span class="token keyword">void</span></span> System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic<span class="token punctuation">.</span>List<span class="token operator">&lt;</span>System<span class="token punctuation">.</span>String<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">ctor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>You add a call to <code>List&lt;string&gt;.ctor()</code> in RefType, which is <code>new List&lt;string&gt;()</code>. Thanks to the <strong>generic sharing mechanism</strong>, you just call <code>new List&lt;object&gt;()</code>.</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">class</span> <span class="token class-name">RefTypes</span>
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">MyAOTRefs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 也可以用 new List&lt;string&gt;()</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="example-2"><a href="#example-2" class="header-anchor">#</a> Example 2</h4> <p>error log</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code>MissingMethodException<span class="token punctuation">:</span> AOT generic method isn'<span class="token class-name">t</span> instantiated <span class="token keyword">in</span> aot module 
    <span class="token return-type class-name"><span class="token keyword">void</span></span> System<span class="token punctuation">.</span>ValueType<span class="token operator">&lt;</span>System<span class="token punctuation">.</span>Int32<span class="token punctuation">,</span> System<span class="token punctuation">.</span>String<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">ctor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Notice! The empty constructor of the value type does not call the corresponding constructor, but corresponds to the initobj instruction. In fact, you can't directly reference it, but you just need to force the instantiation of this type, and all functions of the preserve class will naturally include the .ctor function.</p> <p>In practice you can use forced boxing <code>(object)(default(ValueTuple&lt;int, object&gt;))</code>.</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">class</span> <span class="token class-name">RefTypes</span>
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">MyAOTRefs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token comment">// 以下两种写法都是可以的</span>
      _ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">object</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ValueTuple<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      _ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">object</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">default</span><span class="token punctuation">(</span><span class="token type-expression class-name">ValueTuple<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="example-3"><a href="#example-3" class="header-anchor">#</a> Example 3</h4> <p>error log</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code>MissingMethodException<span class="token punctuation">:</span> AOT generic method isn'<span class="token class-name">t</span> instantiated <span class="token keyword">in</span> aot module 
  System<span class="token punctuation">.</span>Void System<span class="token punctuation">.</span>Runtime<span class="token punctuation">.</span>CompilerService<span class="token punctuation">.</span>AsyncVoidMethodBuilder<span class="token punctuation">::</span>Start<span class="token operator">&lt;</span>UIMgr<span class="token operator">+</span>ShowUId__2<span class="token operator">&gt;</span><span class="token punctuation">(</span>UIMgr<span class="token operator">+</span><span class="token operator">&lt;</span>ShowUI<span class="token operator">&gt;</span>d__2<span class="token operator">&amp;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">class</span> <span class="token class-name">RefTypes</span>
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">MyAOTRefs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token class-name"><span class="token keyword">var</span></span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">System<span class="token punctuation">.</span>Runtime<span class="token punctuation">.</span>CompilerService<span class="token punctuation">.</span>AsyncVoidMethodBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">IAsyncStateMachine</span> asm <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>
      builder<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token keyword">ref</span> asm<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="defects-of-the-generic-sharing-mechanism"><a href="#defects-of-the-generic-sharing-mechanism" class="header-anchor">#</a> Defects of the generic sharing mechanism</h3> <p>Since value types cannot be shared generically, if a value type appears in the generic parameter of a generic instance (class or function), this generic instance must be instantiated in advance in AOT. if
Your generic parameter type is the value type defined in the hot update code. Since the hot update type is obviously impossible to instantiate generics in AOT in advance, you are hot updating the code
Codes such as <code>List&lt;hot update value type&gt;</code> cannot be used in , which brings great inconvenience to development.</p> <p>Fortunately, we innovatively proposed the patented <code>Supplementary Metadata</code> technology, which completely solved this problem.</p> <h2 id="generic-function-instantiation-technology-based-on-supplementary-metadata-hybridclr-s-patented-technology"><a href="#generic-function-instantiation-technology-based-on-supplementary-metadata-hybridclr-s-patented-technology" class="header-anchor">#</a> Generic function instantiation technology based on supplementary metadata (HybridCLR's patented technology)</h2> <p>The problem that AOT generic functions cannot be instantiated is essentially because the original MethodBody IL metadata is lost during the translation of <code>IL -&gt; C++</code> by il2cpp. The solution is very thorough - supplement the lost original MethodBody IL metadata.</p> <p>Note that it is the generic function that loses the IL function body metadata, not the generic parameter type that loses metadata. Take <code>var a = new List&lt;YourValueType&gt;()</code> as an example,
It is the <code>List&lt;T&gt;.ctor</code> (the class constructor name in the CLI is called .ctor) function that is missing the original IL function body metadata, not <code>YourValueType</code> that is missing the metadata. therefore
Supplementary metadata should supplement the aot dll where the generic class is located, for example, the dll where <code>List&lt;T&gt;</code> is located is <code>mscorlib</code>, not the dll where <code>YourValueType</code> is located.</p> <p>Use the <code>HybridCLR.RuntimeApi.LoadMetadataForAOTAAssembly</code> function in the hybridclr_unity package to supplement the corresponding metadata for the AOT assembly.
The LoadMetadataForAOTAssembly function can be called at any time. In addition, it can be called in AOT or hot update. You just need to call it before using AOT generics (only need to call it once).</p> <p>In theory, the earlier the loading, the better. In practice, the more reasonable time is after the hot update is completed, or after the hot update dll is loaded but before any code is executed. If the dll that supplements the metadata is also entered into the main package as an additional data file (for example, placed under StreamingAssets), then the loading of the main project is better when it starts.</p> <p><strong>Supplementary metadata has no load order requirement</strong>.</p> <p>If the AOT generic supplements the corresponding generic metadata, and il2cpp generic sharing instantiation also exists, in order to maximize performance, HybridCLR will give priority to il2cpp generic sharing.</p> <p>Although the generic function instantiation technology based on supplementary metadata is quite perfect, after all, the instantiated function is executed in an interpreted manner. If the generic instantiation in AOT can be performed in advance, the performance can be greatly improved.
Therefore, it is recommended to instantiate in AOT in advance for commonly used, especially performance-sensitive generic classes and functions. We provide tools to help automatically scan and collect corresponding generic instances, you can run the menu command <code>HybridCLR/Generate/AOTGenericReference</code>.</p> <h3 id="metadata-mode-homologousimagemode"><a href="#metadata-mode-homologousimagemode" class="header-anchor">#</a> Metadata Mode HomologousImageMode</h3> <p>Two metadata schemas are currently supported:</p> <ul><li><code>HomologousImageMode::Consistent</code> mode, that is, the supplementary dll is exactly the same as the cropped dll when packaging. Therefore, the clipped dll generated during the build process must be used, and the original dll cannot be copied directly. We added processing code in <code>HybridCLR.BuildProcessors.CopyStrippedAOTAssemblies</code> to automatically copy these clipped dlls to the <code>{project}/HybridCLRData/AssembliesPostIl2CppStrip/{target}</code> directory when packaging.</li> <li><code>HomologousImageMode::SuperSet</code> mode, that is, the supplementary dll is a superset of the trimmed dll when packaging, and contains all the metadata of the trimmed dll. One of the easiest superset dlls to get is the original aot dll, which is also the recommended superset dll. Please refer to the detailed documentation for the location of the original aot dll.</li></ul> <p>For detailed documentation, see <a href="/en/hybridclr/hybridclr_unity/">hybridclr_unity</a>.</p> <h3 id="load-supplementary-metadata-sample-code"><a href="#load-supplementary-metadata-sample-code" class="header-anchor">#</a> Load supplementary metadata sample code</h3> <p>See the sample code below for how to load the supplementary metadata dll in the code, and you can also refer to <a href="https://github.com/focus-creative-games/hybridclr_trial" target="_blank" rel="noopener noreferrer">hybridclr_trial<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">unsafe</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">LoadMetadataForAOTAssembly</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> aotDllList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;mscorlib.dll&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;System.dll&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;System.Core.dll&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 如果使用了Linq，需要这个</span>
            <span class="token comment">// &quot;Newtonsoft.Json.dll&quot;,</span>
            <span class="token comment">// &quot;protobuf-net.dll&quot;,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token class-name">AssetBundle</span> dllAB <span class="token operator">=</span> LoadDll<span class="token punctuation">.</span>AssemblyAssetBundle<span class="token punctuation">;</span>
        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> aotDllName <span class="token keyword">in</span> aotDllList<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> dllBytes <span class="token operator">=</span> dllAB<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">LoadAsset</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>TextAsset<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>aotDllName<span class="token punctuation">)</span><span class="token punctuation">.</span>bytes<span class="token punctuation">;</span>
              <span class="token class-name"><span class="token keyword">int</span></span> err <span class="token operator">=</span> HybridCLR<span class="token punctuation">.</span>RuntimeApi<span class="token punctuation">.</span><span class="token function">LoadMetadataForAOTAssembly</span><span class="token punctuation">(</span>dllBytes<span class="token punctuation">,</span> HomologousImageMode<span class="token punctuation">.</span>SuperSet<span class="token punctuation">)</span><span class="token punctuation">;</span>
              Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;LoadMetadataForAOTAssembly:</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">aotDllName</span><span class="token punctuation">}</span></span><span class="token string">. ret:</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">err</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="full-generic-share-technical-supplementary-introduction"><a href="#full-generic-share-technical-supplementary-introduction" class="header-anchor">#</a> <code>full generic share</code> technical supplementary introduction</h2> <p>Since the 2021.3.x LTS version, il2cpp has fully supported the <code>full generic share</code> technology. When the <code>Il2Cpp Code Generation</code> option in Build Settings is <code>faster runtime</code>, it is the generic sharing mechanism introduced in the previous chapter, which is <code>faster(smaller ) build</code> on
<code>full generic share</code> mechanism.</p> <p>When <code>full generic share</code> is enabled, each generic function (regardless of whether the generic parameter is a value type or a class type) will completely share a code. The advantage is that the code size is saved, and the disadvantage is that it greatly hurts the performance of the generic function. The fully generic shared code is sometimes several to ten times slower than the standard generic shared code, and even worse than the purely interpreted version. Therefore it is strongly recommended to <strong>not enable</strong> the <code>faster(smaller) build</code> option. Because of this, although HybridCLR can work with the <code>full generic share</code> mechanism, it does not take advantage of this mechanism at all. Because this mechanism has basically no practical significance except when you want to reduce the inclusion extremely.</p></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2023/05/04, 11:48:51</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/en/hybridclr/code_striping/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Code clipping problem</div></a> <a href="/en/hybridclr/method_bridge/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">AOT-interpreter bridge function</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/en/hybridclr/code_striping/" class="prev">Code clipping problem</a></span> <span class="next"><a href="/en/hybridclr/method_bridge/">AOT-interpreter bridge function</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/hybridclr/project_settings/"><div>
            项目设置
            <!----></div></a> <span class="date">09-29</span></dt></dl><dl><dd>02</dd> <dt><a href="/hybridclr/load_assembly/"><div>
            加载和使用热更新代码
            <!----></div></a> <span class="date">09-29</span></dt></dl><dl><dd>03</dd> <dt><a href="/hybridclr/build_game/"><div>
            打包
            <!----></div></a> <span class="date">09-29</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:hybridclr@code-philosophy.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/focus-creative-games" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2023
    <span>focus-creative-games</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.12d5fdbe.js" defer></script><script src="/assets/js/2.0771a7ec.js" defer></script><script src="/assets/js/115.d7da7753.js" defer></script><script src="/assets/js/3.8d0c7075.js" defer></script>
  </body>
</html>
