<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Code and Data Generation | Code Philosophy</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/img/favicon.png">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <meta name="description" content="Code Philosophy是一个业内领先的专注于提供游戏行业深度技术解决方案的创新型公司。">
    <meta name="keywords" content="HybridCLR,luban,热更新,配表,配置,游戏,git,github">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.de16ca54.css" as="style"><link rel="preload" href="/assets/js/app.12d5fdbe.js" as="script"><link rel="preload" href="/assets/js/2.0771a7ec.js" as="script"><link rel="preload" href="/assets/js/128.08210df8.js" as="script"><link rel="preload" href="/assets/js/3.8d0c7075.js" as="script"><link rel="prefetch" href="/assets/js/10.d15b8a0c.js"><link rel="prefetch" href="/assets/js/100.59f432fb.js"><link rel="prefetch" href="/assets/js/101.3de7bbde.js"><link rel="prefetch" href="/assets/js/102.4a0758d3.js"><link rel="prefetch" href="/assets/js/103.26383b9f.js"><link rel="prefetch" href="/assets/js/104.a1da4ecb.js"><link rel="prefetch" href="/assets/js/105.ef6a6e83.js"><link rel="prefetch" href="/assets/js/106.da96dd79.js"><link rel="prefetch" href="/assets/js/107.ec48bd70.js"><link rel="prefetch" href="/assets/js/108.0f684202.js"><link rel="prefetch" href="/assets/js/109.2a494194.js"><link rel="prefetch" href="/assets/js/11.764b6824.js"><link rel="prefetch" href="/assets/js/110.84415013.js"><link rel="prefetch" href="/assets/js/111.b2685030.js"><link rel="prefetch" href="/assets/js/112.d97b1c0a.js"><link rel="prefetch" href="/assets/js/113.fc2f8b72.js"><link rel="prefetch" href="/assets/js/114.389fdf76.js"><link rel="prefetch" href="/assets/js/115.d7da7753.js"><link rel="prefetch" href="/assets/js/116.7ba543d5.js"><link rel="prefetch" href="/assets/js/117.d7087ed2.js"><link rel="prefetch" href="/assets/js/118.afcabf3e.js"><link rel="prefetch" href="/assets/js/119.2bcae880.js"><link rel="prefetch" href="/assets/js/12.8d2b0d29.js"><link rel="prefetch" href="/assets/js/120.e7473c03.js"><link rel="prefetch" href="/assets/js/121.e7f1865f.js"><link rel="prefetch" href="/assets/js/122.1ee03f15.js"><link rel="prefetch" href="/assets/js/123.8c8de603.js"><link rel="prefetch" href="/assets/js/124.1c8fa702.js"><link rel="prefetch" href="/assets/js/125.92167af0.js"><link rel="prefetch" href="/assets/js/126.d729738c.js"><link rel="prefetch" href="/assets/js/127.291f69f0.js"><link rel="prefetch" href="/assets/js/129.40b77886.js"><link rel="prefetch" href="/assets/js/13.e0289cd0.js"><link rel="prefetch" href="/assets/js/130.8305c052.js"><link rel="prefetch" href="/assets/js/131.5e6ae27f.js"><link rel="prefetch" href="/assets/js/132.d9c12ddc.js"><link rel="prefetch" href="/assets/js/133.82886760.js"><link rel="prefetch" href="/assets/js/134.6f64a5d9.js"><link rel="prefetch" href="/assets/js/135.b90b8356.js"><link rel="prefetch" href="/assets/js/136.24e466af.js"><link rel="prefetch" href="/assets/js/137.aaf435ae.js"><link rel="prefetch" href="/assets/js/138.00c60cde.js"><link rel="prefetch" href="/assets/js/139.14e869b2.js"><link rel="prefetch" href="/assets/js/14.81465e75.js"><link rel="prefetch" href="/assets/js/140.de231325.js"><link rel="prefetch" href="/assets/js/141.4ad5ea60.js"><link rel="prefetch" href="/assets/js/142.f36e159e.js"><link rel="prefetch" href="/assets/js/143.2e4611d8.js"><link rel="prefetch" href="/assets/js/144.e9ebb3fa.js"><link rel="prefetch" href="/assets/js/145.1a9f5fad.js"><link rel="prefetch" href="/assets/js/146.624849a0.js"><link rel="prefetch" href="/assets/js/147.461906c5.js"><link rel="prefetch" href="/assets/js/148.d28d7aaa.js"><link rel="prefetch" href="/assets/js/149.9784b5ed.js"><link rel="prefetch" href="/assets/js/15.6b1ebda0.js"><link rel="prefetch" href="/assets/js/150.240e44d2.js"><link rel="prefetch" href="/assets/js/151.604089c9.js"><link rel="prefetch" href="/assets/js/152.f73b8be0.js"><link rel="prefetch" href="/assets/js/153.e16a3cbb.js"><link rel="prefetch" href="/assets/js/16.9f462aa4.js"><link rel="prefetch" href="/assets/js/17.f6132239.js"><link rel="prefetch" href="/assets/js/18.a0728471.js"><link rel="prefetch" href="/assets/js/19.647597ef.js"><link rel="prefetch" href="/assets/js/20.113a110f.js"><link rel="prefetch" href="/assets/js/21.e8949420.js"><link rel="prefetch" href="/assets/js/22.715d702b.js"><link rel="prefetch" href="/assets/js/23.0c731f9a.js"><link rel="prefetch" href="/assets/js/24.83715717.js"><link rel="prefetch" href="/assets/js/25.a6efb8d9.js"><link rel="prefetch" href="/assets/js/26.876b7bf2.js"><link rel="prefetch" href="/assets/js/27.7e6a1fbc.js"><link rel="prefetch" href="/assets/js/28.c9603a98.js"><link rel="prefetch" href="/assets/js/29.7a6ffd69.js"><link rel="prefetch" href="/assets/js/30.bbdcda14.js"><link rel="prefetch" href="/assets/js/31.441495f6.js"><link rel="prefetch" href="/assets/js/32.516dc27e.js"><link rel="prefetch" href="/assets/js/33.796a4638.js"><link rel="prefetch" href="/assets/js/34.b844a239.js"><link rel="prefetch" href="/assets/js/35.4489eede.js"><link rel="prefetch" href="/assets/js/36.4944cc18.js"><link rel="prefetch" href="/assets/js/37.2b295b6f.js"><link rel="prefetch" href="/assets/js/38.c7f25fa6.js"><link rel="prefetch" href="/assets/js/39.f350b082.js"><link rel="prefetch" href="/assets/js/4.e8f1cdb3.js"><link rel="prefetch" href="/assets/js/40.6346e1bc.js"><link rel="prefetch" href="/assets/js/41.703948ac.js"><link rel="prefetch" href="/assets/js/42.cb158675.js"><link rel="prefetch" href="/assets/js/43.a6366a4f.js"><link rel="prefetch" href="/assets/js/44.67b267cd.js"><link rel="prefetch" href="/assets/js/45.d9ded0f6.js"><link rel="prefetch" href="/assets/js/46.dce204c1.js"><link rel="prefetch" href="/assets/js/47.f59b1714.js"><link rel="prefetch" href="/assets/js/48.e72d5a9a.js"><link rel="prefetch" href="/assets/js/49.57c226c6.js"><link rel="prefetch" href="/assets/js/5.765a6984.js"><link rel="prefetch" href="/assets/js/50.696d3556.js"><link rel="prefetch" href="/assets/js/51.f9fcee2c.js"><link rel="prefetch" href="/assets/js/52.e8d8f311.js"><link rel="prefetch" href="/assets/js/53.cb8fbe86.js"><link rel="prefetch" href="/assets/js/54.4df421a2.js"><link rel="prefetch" href="/assets/js/55.5a9cb469.js"><link rel="prefetch" href="/assets/js/56.7e073255.js"><link rel="prefetch" href="/assets/js/57.6756691b.js"><link rel="prefetch" href="/assets/js/58.9d1c4a46.js"><link rel="prefetch" href="/assets/js/59.a560b055.js"><link rel="prefetch" href="/assets/js/6.ddf0c9b8.js"><link rel="prefetch" href="/assets/js/60.a23590d0.js"><link rel="prefetch" href="/assets/js/61.5b3a43f9.js"><link rel="prefetch" href="/assets/js/62.72a56b46.js"><link rel="prefetch" href="/assets/js/63.ceded64f.js"><link rel="prefetch" href="/assets/js/64.f26c8cb9.js"><link rel="prefetch" href="/assets/js/65.fb45c073.js"><link rel="prefetch" href="/assets/js/66.83ebce20.js"><link rel="prefetch" href="/assets/js/67.eff63cf4.js"><link rel="prefetch" href="/assets/js/68.8bb955ae.js"><link rel="prefetch" href="/assets/js/69.dae7cec8.js"><link rel="prefetch" href="/assets/js/7.32660699.js"><link rel="prefetch" href="/assets/js/70.20e84c9c.js"><link rel="prefetch" href="/assets/js/71.6c135456.js"><link rel="prefetch" href="/assets/js/72.a6cef57b.js"><link rel="prefetch" href="/assets/js/73.ea109d55.js"><link rel="prefetch" href="/assets/js/74.31bd4677.js"><link rel="prefetch" href="/assets/js/75.e90da937.js"><link rel="prefetch" href="/assets/js/76.74f061bb.js"><link rel="prefetch" href="/assets/js/77.4a1bfa57.js"><link rel="prefetch" href="/assets/js/78.7847ecac.js"><link rel="prefetch" href="/assets/js/79.5fa65e36.js"><link rel="prefetch" href="/assets/js/8.62b0d450.js"><link rel="prefetch" href="/assets/js/80.008f19fa.js"><link rel="prefetch" href="/assets/js/81.e245ac7c.js"><link rel="prefetch" href="/assets/js/82.8f5a662c.js"><link rel="prefetch" href="/assets/js/83.cc9a1992.js"><link rel="prefetch" href="/assets/js/84.dcf087c6.js"><link rel="prefetch" href="/assets/js/85.be5afefb.js"><link rel="prefetch" href="/assets/js/86.97d6599a.js"><link rel="prefetch" href="/assets/js/87.1df10b08.js"><link rel="prefetch" href="/assets/js/88.f5a3d153.js"><link rel="prefetch" href="/assets/js/89.1a78c9ca.js"><link rel="prefetch" href="/assets/js/9.f51c0ef6.js"><link rel="prefetch" href="/assets/js/90.dfb15931.js"><link rel="prefetch" href="/assets/js/91.a5bdf350.js"><link rel="prefetch" href="/assets/js/92.4d4d7050.js"><link rel="prefetch" href="/assets/js/93.4ce8faaa.js"><link rel="prefetch" href="/assets/js/94.13bd2ab5.js"><link rel="prefetch" href="/assets/js/95.f941715f.js"><link rel="prefetch" href="/assets/js/96.6adeb803.js"><link rel="prefetch" href="/assets/js/97.6e1aaaf3.js"><link rel="prefetch" href="/assets/js/98.53de0dca.js"><link rel="prefetch" href="/assets/js/99.6f94e8b5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.de16ca54.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/en/" class="home-link router-link-active"><img src="/img/logo.png" alt="Code Philosophy" class="logo"> <span class="site-name can-hide">Code Philosophy</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/en/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HybridCLR" class="dropdown-title"><!----> <span class="title" style="display:;">HybridCLR</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/hybridclr/about/" class="nav-link">About</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/monobehaviour/" class="nav-link">Get Started</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/benchmark/" class="nav-link">Benchmark</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/faq/" class="nav-link">FAQ</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/common_errors/" class="nav-link">Common Mistakes</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/bug_reporter/" class="nav-link">Report Bugs</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Luban" class="dropdown-title"><a href="/en/luban/index/" class="link-title">Luban</a> <span class="title" style="display:none;">Luban</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/luban/about/" class="nav-link">About</a></li><li class="dropdown-item"><!----> <a href="/en/luban/start_up/" class="nav-link">Get Started</a></li><li class="dropdown-item"><!----> <a href="/en/luban/command_tools/" class="nav-link">Complete Features</a></li><li class="dropdown-item"><!----> <a href="/en/luban/data_source/" class="nav-link">Data Source</a></li><li class="dropdown-item"><!----> <a href="/en/luban/advanced/validator/" class="nav-link">Advanced Features</a></li><li class="dropdown-item"><!----> <a href="/en/luban/tools/" class="nav-link">Luban Tools</a></li></ul></div></div><div class="nav-item"><a href="/en/hybridclr/price/" class="nav-link">Service</a></div><div class="nav-item"><a href="/en/join/" class="nav-link">Jobs</a></div><div class="nav-item"><a href="https://www.zhihu.com/column/c_1489549396035870720" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Zhihu
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/en/about/" class="nav-link">About</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><!----> <span class="title" style="display:;">切换语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/luban/generate_code_data/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/luban/generate_code_data/" aria-current="page" class="nav-link router-link-exact-active router-link-active">English</a></li></ul></div></div> <a href="https://github.com/focus-creative-games" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/en/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HybridCLR" class="dropdown-title"><!----> <span class="title" style="display:;">HybridCLR</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/hybridclr/about/" class="nav-link">About</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/monobehaviour/" class="nav-link">Get Started</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/benchmark/" class="nav-link">Benchmark</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/faq/" class="nav-link">FAQ</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/common_errors/" class="nav-link">Common Mistakes</a></li><li class="dropdown-item"><!----> <a href="/en/hybridclr/bug_reporter/" class="nav-link">Report Bugs</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Luban" class="dropdown-title"><a href="/en/luban/index/" class="link-title">Luban</a> <span class="title" style="display:none;">Luban</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/luban/about/" class="nav-link">About</a></li><li class="dropdown-item"><!----> <a href="/en/luban/start_up/" class="nav-link">Get Started</a></li><li class="dropdown-item"><!----> <a href="/en/luban/command_tools/" class="nav-link">Complete Features</a></li><li class="dropdown-item"><!----> <a href="/en/luban/data_source/" class="nav-link">Data Source</a></li><li class="dropdown-item"><!----> <a href="/en/luban/advanced/validator/" class="nav-link">Advanced Features</a></li><li class="dropdown-item"><!----> <a href="/en/luban/tools/" class="nav-link">Luban Tools</a></li></ul></div></div><div class="nav-item"><a href="/en/hybridclr/price/" class="nav-link">Service</a></div><div class="nav-item"><a href="/en/join/" class="nav-link">Jobs</a></div><div class="nav-item"><a href="https://www.zhihu.com/column/c_1489549396035870720" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Zhihu
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/en/about/" class="nav-link">About</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><!----> <span class="title" style="display:;">切换语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/luban/generate_code_data/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/luban/generate_code_data/" aria-current="page" class="nav-link router-link-exact-active router-link-active">English</a></li></ul></div></div> <a href="https://github.com/focus-creative-games" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Content</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>About</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>hybridclr</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>luban</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/luban/about/" class="sidebar-link">About Luban</a></li><li><a href="/en/luban/traits/" class="sidebar-link">Features</a></li><li><a href="/en/luban/start_up/" class="sidebar-link">Start Up</a></li><li><a href="/en/luban/generate_code_data/" aria-current="page" class="active sidebar-link">Code and Data Generation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#supported-platforms-engines-and-languages" class="sidebar-link">Supported platforms, engines and languages</a></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#which-data-formats-can-be-exported" class="sidebar-link">Which data formats can be exported</a></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#detailed-documentation-for-the-luban-command-line-tool" class="sidebar-link">Detailed documentation for the luban command line tool?</a></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#how-to-generate-code-and-data" class="sidebar-link">How to generate code and data</a></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#generate-c-code-for-unity-project-and-export-json-data" class="sidebar-link">Generate c# code for unity project and export json data</a></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#generate-ts-code-for-unity-puerts-project-and-generate-json-data" class="sidebar-link">Generate ts code for unity + puerts project and generate json data</a></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#generate-c-code-not-blueprint-and-binary-data-for-ue4-project" class="sidebar-link">Generate c++ code (not blueprint) and binary data for UE4 project</a></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#other-types-of-project-types-how-to-generate-code-and-data" class="sidebar-link">Other types of project types, how to generate code and data</a></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#generate-protobuf-definition-file-and-protobuf-data-format" class="sidebar-link">Generate protobuf definition file and protobuf data format</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/en/luban/generate_code_data/#protobuf2" class="sidebar-link">protobuf2</a></li><li class="sidebar-sub-header level3"><a href="/en/luban/generate_code_data/#protobuf3" class="sidebar-link">protobuf3</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#generate-msgpack-data" class="sidebar-link">Generate msgpack data</a></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#generate-flatbuffers-definition-file-and-flatbuffers-data-format" class="sidebar-link">Generate flatbuffers definition file and flatbuffers data format</a></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#only-generate-code-or-data" class="sidebar-link">Only generate code or data?</a></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#some-string-fields-in-the-configuration-are-resource-addresses-and-these-resource-addresses-are-exported-uniformly" class="sidebar-link">Some string fields in the configuration are resource addresses, and these resource addresses are exported uniformly</a></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#in-the-generated-c-code-the-type-of-vector-is-changed-from-system-numerics-vector-2-3-4-to-unityengine-vector-2-3-4" class="sidebar-link">In the generated c# code, the type of vector is changed from System.Numerics.Vector{2,3,4} to UnityEngine.Vector{2,3,4}</a></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#custom-code-naming-style" class="sidebar-link">Custom code naming style</a></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#what-is-the-difference-between-code-cs-json-and-code-cs-unity-json-in-gen-types" class="sidebar-link">What is the difference between codecsjson and codecsunityjson in gentypes</a></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#the-meaning-of-j-cfg-in-the-command-line-parameters" class="sidebar-link">The meaning of -j cfg in the command line parameters</a></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#the-top-level-namespace-of-the-generated-configuration-code-is-cfg-can-this-namespace-be-omitted-or-use-other-values" class="sidebar-link">The top-level namespace of the generated configuration code is cfg, can this namespace be omitted or use other values?</a></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#the-suffix-of-the-generated-data-file" class="sidebar-link">The suffix of the generated data file</a></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#enum-bean-type-code-export-rules" class="sidebar-link">enum, bean type code export rules</a></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#different-export-formats-performance-test-results" class="sidebar-link">Different export formats Performance test results</a></li><li class="sidebar-sub-header level2"><a href="/en/luban/generate_code_data/#binary-and-json-format-loading-performance-comparison" class="sidebar-link">Binary and json format loading performance comparison?</a></li></ul></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Update</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Advanced Features</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/en/luban/tools/" class="sidebar-link">Luban Tools</a></li><li><a href="/en/luban/faq/" class="sidebar-link">FAQ</a></li><li><a href="/en/luban/changelog/" class="sidebar-link">Changelog</a></li><li><a href="/en/pages/b36ae9/" class="sidebar-link">Subsequent Development Plan</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>gidb</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=en" title="分类" data-v-06225672>en</a></li><li data-v-06225672><a href="/categories/?category=luban" title="分类" data-v-06225672>luban</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https:://code-philosophy.com" target="_blank" title="作者" class="beLink" data-v-06225672>Code Philosophy</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-05-25</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">Code and Data Generation<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="code-and-data-generation"><a href="#code-and-data-generation" class="header-anchor">#</a> Code and data generation</h1> <h2 id="supported-platforms-engines-and-languages"><a href="#supported-platforms-engines-and-languages" class="header-anchor">#</a> Supported platforms, engines and languages</h2> <ul><li>Cross-platform
<ul><li>Win</li> <li>Mac</li> <li>Linux (including WSL)</li></ul></li> <li>Support mainstream game development languages
<ul><li>c++ (11+)</li> <li>c# (. net framework 4+. dotnet core 3+)</li> <li>java (1.6+)</li> <li>go (1.10+)</li> <li>lua (5.1+)</li> <li>js and typescript (3.0+)</li> <li>python (3.0+)</li> <li>erlang (18+)</li> <li>rust (1.5+)</li> <li>Other <strong>protobuf</strong> supported languages</li></ul></li> <li>Support mainstream engines
-unity
<ul><li>unreal</li> <li>cocos2d-x</li> <li>WeChat mini game platform</li> <li>Other small game platforms that support js</li></ul></li> <li>Support mainstream hot update solutions
<ul><li>xlua</li> <li>tolua</li> <li>slua</li> <li>ILRuntime</li> <li>sluaunreal</li> <li>puerts</li> <li>XIL</li></ul></li> <li>Support mainstream open source frameworks
<ul><li>skynet</li> <li>ET</li> <li>GameFramework</li> <li>xlua-framework</li></ul></li></ul> <h2 id="which-data-formats-can-be-exported"><a href="#which-data-formats-can-be-exported" class="header-anchor">#</a> Which data formats can be exported</h2> <ul><li>binary format. The format is compact and efficient to load, but basically unreadable. Recommended for official releases only.</li> <li>json format. Good readability. Elegant alignment format is supported, and compact format is also supported. Recommended for server-side, and for client-side development.</li> <li><strong>protobuf</strong> format. Suitable for developers who are familiar with pb.</li> <li><strong>msgpack</strong> format.</li> <li>lua format. Good readability. It is recommended only for the case where the client-side scripting language is lua.</li> <li>xml format.</li> <li>erlang format. For the erlang language only.</li> <li>yaml format.</li> <li>other formats. It is easy to extend support.</li></ul> <p><strong>In the same format, the data generated for different languages is exactly the same</strong>.</p> <p>The formats supported by different languages are as follows:</p> <table><thead><tr><th style="text-align:left;">language</th> <th style="text-align:center;">binary</th> <th style="text-align:center;">json</th> <th style="text-align:center;">lua</th></tr></thead> <tbody><tr><td style="text-align:left;">c#</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:left;">java</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:left;">go</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:left;">c++</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">❌</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:left;">go</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:left;">python</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">❌</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:left;">typescript</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:left;">rust</td> <td style="text-align:center;">❌</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:left;">lua</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">❌</td> <td style="text-align:center;">✔️</td></tr> <tr><td style="text-align:left;">erlang</td> <td style="text-align:center;">erlang</td> <td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:left;">protobuf</td> <td style="text-align:center;">all</td> <td style="text-align:center;"></td> <td style="text-align:center;"></td></tr></tbody></table> <h2 id="detailed-documentation-for-the-luban-command-line-tool"><a href="#detailed-documentation-for-the-luban-command-line-tool" class="header-anchor">#</a> Detailed documentation for the luban command line tool?</h2> <p>See <a href="/en/luban/command_tools/">luban command line</a></p> <h2 id="how-to-generate-code-and-data"><a href="#how-to-generate-code-and-data" class="header-anchor">#</a> How to generate code and data</h2> <p>See the link above for detailed documentation. There are three tools related to code generation, all in the luban_examples/Tools directory.</p> <ul><li>Luban.Client. Luban tool client</li> <li>Luban. Server. Luban tool server side</li> <li>Luban.ClientServer. The front and back ends of Luban tools are integrated.</li></ul> <p>For the sake of simplicity for novices, we introduce the usage of Luban.ClientServer, the command is as follows:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>dotnet %LUBAN_CLIENT_SERVER_DLL% <span class="token parameter variable">-j</span> cfg -- ^
 <span class="token parameter variable">-d</span> %ROOT_FILE% ^
 <span class="token parameter variable">--input_data_dir</span> %INPUT_DATA_DIR% ^
 <span class="token parameter variable">--output_code_dir</span> %OUTPUT_CODE_DIR%
 <span class="token parameter variable">--output_data_dir</span> %OUTPUT_DIR% ^
 <span class="token parameter variable">--gen_types</span> %GEN_TYPE% ^
 <span class="token parameter variable">-s</span> %GROUP%
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>in:</p> <ul><li>LUBAN_CLIENT_SERVER_DLL is the path of Luban.ClientServer.dll, which can point to luban_examples/Tools/Luban.ClientServer/Luban.ClientServer.dll</li> <li>ROOT_FILE is the root definition file, pointing to MyConfigs/Define/__root__.xml</li> <li>INPUT_DATA_DIR is the root directory of configuration data, pointing to MyConfigs/Datas</li> <li>OUTPUT_CODE_DIR is the directory where the code is generated</li> <li>GEN_TYPE is the generation type. If you use unity and want to generate c# code and export json data, use &quot;code_cs_unity_json,data_json&quot;</li> <li>GROUP for export grouping. The client takes client, the server takes server, and all take all</li></ul> <p>For more project types, see <a href="https://github.com/focus-creative-games/luban_examples/tree/main/Projects" target="_blank" rel="noopener noreferrer">Example Projects<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="generate-c-code-for-unity-project-and-export-json-data"><a href="#generate-c-code-for-unity-project-and-export-json-data" class="header-anchor">#</a> Generate c# code for unity project and export json data</h2> <p>See above for an introduction to the command line. Your build command is roughly as follows</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>dotnet %LUBAN_CLIENT_SERVER_DLL% <span class="token parameter variable">-j</span> cfg -- ^
 <span class="token parameter variable">-d</span> %ROOT_FILE% ^
 <span class="token parameter variable">--input_data_dir</span> %INPUT_DATA_DIR% ^
 <span class="token parameter variable">--output_code_dir</span> %OUTPUT_CODE_DIR%
 <span class="token parameter variable">--output_data_dir</span> %OUTPUT_DIR% ^
 <span class="token parameter variable">--gen_types</span> <span class="token string">&quot;code_cs_unity_json,data_json&quot;</span> ^
 <span class="token parameter variable">-s</span> client
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>That is, the --gen_types parameter takes &quot;code_cs_unity_json,data_json&quot;, and the -s parameter takes client</p> <p>For specific projects, see <a href="https://github.com/focus-creative-games/luban_examples/tree/main/Projects/Csharp_Unity_json" target="_blank" rel="noopener noreferrer">Csharp_Unity_Json<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>For more project types, see <a href="https://github.com/focus-creative-games/luban_examples/tree/main/Projects" target="_blank" rel="noopener noreferrer">Example Projects<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="generate-ts-code-for-unity-puerts-project-and-generate-json-data"><a href="#generate-ts-code-for-unity-puerts-project-and-generate-json-data" class="header-anchor">#</a> Generate ts code for unity + puerts project and generate json data</h2> <p>--gen_types parameter takes &quot;code_typescript_json,data_json&quot;, -s parameter takes client</p> <p>For specific projects, see <a href="https://github.com/focus-creative-games/luban_examples/tree/main/Projects/TypeScript_Unity_Puerts_Json" target="_blank" rel="noopener noreferrer">Typescript_Unity_Puerts_Json<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="generate-c-code-not-blueprint-and-binary-data-for-ue4-project"><a href="#generate-c-code-not-blueprint-and-binary-data-for-ue4-project" class="header-anchor">#</a> Generate c++ code (not blueprint) and binary data for UE4 project</h2> <p>The reference project for the benchmark is <a href="https://github.com/focus-creative-games/luban_examples/tree/main/Projects/Cpp_Unreal_bin" target="_blank" rel="noopener noreferrer">Cpp_Unreal_bin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Since the generated code depends on some header files, you need to copy Source\Cpp_Unreal\Private\bright from this project to a suitable location for your project. You must ensure that the bright directory is within the include directory path, such as #include &quot;bright/serialization/ByteBuf.h&quot; in the generated code to find this file.</p> <p>Then the command line parameter takes --gen_types &quot;code_cpp_bin,data_bin&quot;</p> <h2 id="other-types-of-project-types-how-to-generate-code-and-data"><a href="#other-types-of-project-types-how-to-generate-code-and-data" class="header-anchor">#</a> Other types of project types, how to generate code and data</h2> <p>Between different projects, only --gen_types are different, please find the project that matches your project from <a href="https://github.com/focus-creative-games/luban_examples/tree/main/Projects" target="_blank" rel="noopener noreferrer">Example Project<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> , refer to gen_code.bat in the corresponding directory.</p> <h2 id="generate-protobuf-definition-file-and-protobuf-data-format"><a href="#generate-protobuf-definition-file-and-protobuf-data-format" class="header-anchor">#</a> Generate protobuf definition file and protobuf data format</h2> <p>Currently supports proto2 and proto3 syntax</p> <h3 id="protobuf2"><a href="#protobuf2" class="header-anchor">#</a> protobuf2</h3> <p>Only export in bin format is supported.</p> <p>Take --gen_types code_protobuf2,data_protobuf_bin, see <a href="https://github.com/focus-creative-games/luban_examples/tree/main/Projects/Protobuf2_bin" target="_blank" rel="noopener noreferrer">Protobuf2_bin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Each exported data file corresponds to the serialized content of the Table class, just load it. Take the item.TbItem table as an example.</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> tbItem <span class="token operator">=</span> ItemTbItem<span class="token punctuation">.</span>Parser<span class="token punctuation">.</span><span class="token function">ParseFrom</span><span class="token punctuation">(</span>File<span class="token punctuation">.</span><span class="token function">OpenRead</span><span class="token punctuation">(</span><span class="token string">&quot;pb_datas/item_tbitem.bytes&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="protobuf3"><a href="#protobuf3" class="header-anchor">#</a> protobuf3</h3> <p>Both bin format and json format export are supported.</p> <ul><li>Export in binary format. --gen_types code_protobuf3, data_protobuf_bin</li> <li>Export in json format. --gen_types code_protobuf3, data_protobuf_json</li></ul> <h2 id="generate-msgpack-data"><a href="#generate-msgpack-data" class="header-anchor">#</a> Generate msgpack data</h2> <p>Just take --gen_types data_msgpack. See <a href="https://github.com/focus-creative-games/luban_examples/tree/main/Projects/MsgPack_bin" target="_blank" rel="noopener noreferrer">MsgPack_bin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="generate-flatbuffers-definition-file-and-flatbuffers-data-format"><a href="#generate-flatbuffers-definition-file-and-flatbuffers-data-format" class="header-anchor">#</a> Generate flatbuffers definition file and flatbuffers data format</h2> <p>Take --gen_types code_flatbuffers,data_flatbuffers_json, see <a href="https://github.com/focus-creative-games/luban_examples/tree/main/Projects/Flatbuffers_json" target="_blank" rel="noopener noreferrer">Flatbuffers_json<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Due to the complexity of the binary format, only the json format is supported now, but users can use the flatc tool to convert the data into binary! specially generated convert_json_2_binary.bat
The two batch files, convert_json_2_binary.sh and convert_json_2_binary.sh, are convenient for automatic one-click conversion.</p> <p>At present, because flat_buffers does not support the element type of the container as union, there are some compatibility issues, but it can be solved in a roundabout way by using a bean to contain this union field in the project.</p> <p>There are some differences in the output format of data_flatbuffers_json and data_json</p> <ul><li>The top level of data_flatbuffers_json is a table containing the data_list field, and the top level of data_json directly corresponds to the content of data_list</li> <li>flatbuffers do not support localization. So its text type export format is string, and data_json is {&quot;key&quot;:&quot;xxx&quot;, &quot;text&quot;:&quot;text}</li> <li>When data_flatbuffers_json serializes bean type fields, if a polymorphic type is encountered, it will serialize an additional xxx_type field of string type to indicate the type of union. This is exactly the case data_flatbuffers_json does not support union in the container</li> <li>If the data output by data_flatbuffers_json contains container type data and the element type is union, it cannot be parsed correctly.</li></ul> <h2 id="only-generate-code-or-data"><a href="#only-generate-code-or-data" class="header-anchor">#</a> Only generate code or data?</h2> <p>Take <a href="https://github.com/focus-creative-games/luban_examples/tree/main/Projects/Csharp_Unity_json" target="_blank" rel="noopener noreferrer">Csharp_Unity_Json<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> as an example.</p> <ul><li>--gen_types code_cs_unity_json only generate code</li> <li>--gen_types data_json only generate data</li></ul> <h2 id="some-string-fields-in-the-configuration-are-resource-addresses-and-these-resource-addresses-are-exported-uniformly"><a href="#some-string-fields-in-the-configuration-are-resource-addresses-and-these-resource-addresses-are-exported-uniformly" class="header-anchor">#</a> Some string fields in the configuration are resource addresses, and these resource addresses are exported uniformly</h2> <p>When defining the type first, add a tag like '#res=xxx', where xxx can take any value. As follows.</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>TestRes<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string#res=item<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Take '--gen_types data_resources', and add the parameter '--output:data:resource_list_file resources.txt'. Run to export all the data with res tag to the resources.text file.</p> <p>Assuming that the configuration table contains the two data of icon=&quot;/ui/icon1.jpg&quot; and icon=&quot;/ui/icon1/jpg&quot;, the content of the exported resource list is</p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>item,/ui/icon1.jpg
item,/ui/icon2.jpg
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>See example <a href="https://github.com/focus-creative-games/luban_examples/tree/main/Projects/GenerateDatas" target="_blank" rel="noopener noreferrer">GenerateDatas<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>/gen_resource_list.bat file.</p> <h2 id="in-the-generated-c-code-the-type-of-vector-is-changed-from-system-numerics-vector-2-3-4-to-unityengine-vector-2-3-4"><a href="#in-the-generated-c-code-the-type-of-vector-is-changed-from-system-numerics-vector-2-3-4-to-unityengine-vector-2-3-4" class="header-anchor">#</a> In the generated c# code, the type of vector is changed from System.Numerics.Vector{2,3,4} to UnityEngine.Vector{2,3,4}</h2> <p>Add the --cs:use_unity_vector option to the command line parameters. See example <a href="https://github.com/focus-creative-games/luban_examples/tree/main/Projects/Csharp_Unity_bin" target="_blank" rel="noopener noreferrer">Csharp_Unity_bin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="custom-code-naming-style"><a href="#custom-code-naming-style" class="header-anchor">#</a> Custom code naming style</h2> <p>Can. Add the option --naming_convention_bean_member none to do it. Make the field names in the generated code the same as the definition names.</p> <p>The following code naming styles are supported:</p> <ul><li>none. No naming style, the generated field name is the same as the defined name</li> <li>language_recommend. That is, according to the generated language, the style recommended by the language is automatically set. For example, c# is PascalCase, java is camelCase, and python is under_scores.</li> <li>camel Calse. That is, in camel case, a field name in the style of xxxYyyy is generated.</li> <li>PascalCase. That is, in Pascal form. Generate field names in the style of XxxYyy.</li> <li>under_scores. underlined form. That is, a field name in the style of xxx_yyy is generated.</li></ul> <p>By default language_recommend is used.</p> <h2 id="what-is-the-difference-between-code-cs-json-and-code-cs-unity-json-in-gen-types"><a href="#what-is-the-difference-between-code-cs-json-and-code-cs-unity-json-in-gen-types" class="header-anchor">#</a> What is the difference between code_cs_json and code_cs_unity_json in gen_types</h2> <p>Code_cs_json uses the System.Text.Json library in the generated code, which is only available in versions after .net core 3, and the current .net version of unity does not support it, so this is for server projects based on .net coer.
code_cs_unity_json uses the third-party SimpleJson library, which is compatible with the .net version of unity. When generating c# code for loading json data for unity, you can (currently only have this option) choose this.</p> <h2 id="the-meaning-of-j-cfg-in-the-command-line-parameters"><a href="#the-meaning-of-j-cfg-in-the-command-line-parameters" class="header-anchor">#</a> The meaning of -j cfg in the command line parameters</h2> <p>The long option corresponding to the -j option is named --job, indicating the generation type. Since luban currently supports three types of generation tasks: message (proto), database (db), and configuration (cfg), the functions of these generation tasks are completely different, and the parameters
The difference is quite large, you need to use -j to distinguish different generation tasks.</p> <h2 id="the-top-level-namespace-of-the-generated-configuration-code-is-cfg-can-this-namespace-be-omitted-or-use-other-values"><a href="#the-top-level-namespace-of-the-generated-configuration-code-is-cfg-can-this-namespace-be-omitted-or-use-other-values" class="header-anchor">#</a> The top-level namespace of the generated configuration code is cfg, can this namespace be omitted or use other values?</h2> <p>Yes. The value corresponding to the topmodule configuration item in __root__.xml is the top-level namespace, which can be adjusted to be empty or other values.</p> <h2 id="the-suffix-of-the-generated-data-file"><a href="#the-suffix-of-the-generated-data-file" class="header-anchor">#</a> The suffix of the generated data file</h2> <p>The default file suffix of the data format is as follows</p> <table><thead><tr><th>data</th> <th>extension</th></tr></thead> <tbody><tr><td>data_bin</td> <td>bin</td></tr> <tr><td>data_json</td> <td>json</td></tr> <tr><td>data_json2</td> <td>json</td></tr> <tr><td>data_lua</td> <td>lua</td></tr> <tr><td>data_xml</td> <td>xml</td></tr> <tr><td>data_yaml</td> <td>yml</td></tr> <tr><td>data_protobuf</td> <td>bp</td></tr></tbody></table> <p>The suffix of the output file can be manually specified by the command line option &quot;--data_file_extension xxx&quot;.</p> <h2 id="enum-bean-type-code-export-rules"><a href="#enum-bean-type-code-export-rules" class="header-anchor">#</a> enum, bean type code export rules</h2> <p>Not all defined types generate code and must satisfy one of the following rules:</p> <ul><li>the type directly or indirectly referenced by the exported table</li> <li>The type specified by the ref item of service in root.xml. As shown in the figure below, even if no table directly or indirectly refers to the test.DemoEnum and test.DemoBean types, they will generate code when the server target.</li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>service</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>server<span class="token punctuation">&quot;</span></span> <span class="token attr-name">managers</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Tables<span class="token punctuation">&quot;</span></span> <span class="token attr-name">group</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>s<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ref</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test.DemoEnum<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ref</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test.DemoBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>service</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="different-export-formats-performance-test-results"><a href="#different-export-formats-performance-test-results" class="header-anchor">#</a> Different export formats Performance test results</h2> <p>hardware:</p> <p>Intel(R) Core i7-10700 @ 2.9G 16 cores</p> <p>32G memory</p> <p>data set</p> <p>500 excel sheets
Each table has 1000 rows of relatively large records
Each table file size 132k</p> <p>Test Results:</p> <table><thead><tr><th>Format</th> <th>First Elapsed Time</th> <th>Cumulative Elapsed Time</th> <th>Individual Output File Size</th> <th>Total Output File Size</th></tr></thead> <tbody><tr><td>bin</td> <td>15.652 s</td> <td>797 ms</td> <td>164 K</td> <td>59.5 M</td></tr> <tr><td>json</td> <td>17.746 s</td> <td>796 ms</td> <td>1.11 M</td> <td>555 M</td></tr> <tr><td>lua</td> <td>17.323 s</td> <td>739 ms</td> <td>433 K</td> <td>212 M</td></tr></tbody></table> <h2 id="binary-and-json-format-loading-performance-comparison"><a href="#binary-and-json-format-loading-performance-comparison" class="header-anchor">#</a> Binary and json format loading performance comparison?</h2> <p>Take the DesignerConfigs configuration of luban_examples as the test data, and use the csharp_Unity_bin and csharp_Unity_json projects under Projects as the test comparison,
Load cfg.Table 100 times.</p> <p>The binary format takes 28ms, and the json format takes 112ms.</p> <p>Load performance is about 4:1.</p></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2023/05/04, 11:48:51</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/en/luban/start_up/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Start Up</div></a> <a href="/en/luban/command_tools/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Command Tools</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/en/luban/start_up/" class="prev">Start Up</a></span> <span class="next"><a href="/en/luban/command_tools/">Command Tools</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/hybridclr/project_settings/"><div>
            项目设置
            <!----></div></a> <span class="date">09-29</span></dt></dl><dl><dd>02</dd> <dt><a href="/hybridclr/load_assembly/"><div>
            加载和使用热更新代码
            <!----></div></a> <span class="date">09-29</span></dt></dl><dl><dd>03</dd> <dt><a href="/hybridclr/build_game/"><div>
            打包
            <!----></div></a> <span class="date">09-29</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:hybridclr@code-philosophy.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/focus-creative-games" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2023
    <span>focus-creative-games</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.12d5fdbe.js" defer></script><script src="/assets/js/2.0771a7ec.js" defer></script><script src="/assets/js/128.08210df8.js" defer></script><script src="/assets/js/3.8d0c7075.js" defer></script>
  </body>
</html>
