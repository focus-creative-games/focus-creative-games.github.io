---
title: Project Settings
date: 2022-09-29 12:31:29
permalink: /hybridclr/project_settings/
categories:
  - hybridclr
  - 文档
tags:
  - 
author: 
  name: Code Philosophy
  link: https://github.com/focus-creative-games
---

# Project Settings

After installing the hybridclr_unity package, you need to split the project into AOT/hot update assembly, and set the relevant configuration parameters correctly.

## Configure PlayerSettings

- Turn off the incremental GC (Use Incremental GC) option. Because incremental GC is not currently supported
- `Scripting Backend` switched to `il2cpp`
- Switch `Api Compatibility Level` to `.Net 4` or `.Net Framework` (.Net standard can be used when building the main package, but you must switch to `.Net 4.x or .Net Framework` when using script Compile to hot update dll )

## Hot Update Module Split

Obviously, the project must be split into AOT (that is, compiled into the main game package) and hot update assembly before hot update can be performed. HybridCLR for
There are no restrictions on how to split the assembly, even you can put the AOT or hot update assembly into a third-party project.

There are several common split methods:

- Assembly-CSharp as AOT assembly. The remaining code splits itself into 0-N assemblies.
- Assembly-CSharp as a hot update assembly. The rest of the code itself is split into 1-N assemblies (in practice, there must be at least one AOT startup assembly responsible for hot updates).

The first one needs to set up hot update references to AOT assemblies by yourself, and due to Unity's own reasons, Assembly-CSharp is the top-level assembly, and it will automatically reference all remaining assemblies.
In practice, it is easy for the hot update assembly code to be accidentally referenced by Assembly-CSharp, resulting in packaging errors. Therefore, it is recommended that novices use Assembly-CSharp as a hot update assembly.

Regardless of the splitting method, just set the reference relationship between the assemblies correctly.

## Configure HybridCLR

Detailed configuration related documents can be found in [hybridclr_unity package introduction](/en/hybridclr/hybridclr_unity/).

Click the menu `HybridCLR/Settings` to open the configuration interface. Novices only need to care about `hotUpdate Assembly Definitions` and `hotUpdate dlls` fields.

For the hot update assembly in the project, if it is an assembly defined by assembly definition (asmdef), add
`hotUpdateAssemblyDefinitions` list, if it is a normal dll, just add the assembly name (excluding the '.dll' suffix, such as Main, Assembly-CSharp) to `hotUpdateAssemblies`. These two lists are equivalent, do not add repeatedly, otherwise an error will be reported.

If your hot update code is in an external project, such as using a framework such as ET, its hot update code is not placed in the Unity project, you can add it in `externalHotUpdateAssemblyDirs`
The search path of the external hot update dll is specified in the configuration item. Note that this path is a relative path, relative to the Unity project root directory.

**So far, all the settings related to hot update are completed.**
