---
title: Source Data Conversion
date: 2022-05-25 11:14:58
permalink: /luban/convert/
categories:
  - luban
tags:
  - 
author: 
  name: Code Philosophy
  link: https:://code-philosophy.com
---
# Source data conversion
Luban supports conversion of data in various formats, using command line parameters:
- convert_json convert all source data to json source data format
- convert_lua converts all source data to lua source data format, each record occupies a file
- convert_xlsx converts all source data into xlsx format, each table occupies one file

Note that luban can arbitrarily perform format conversion between supported data formats. This is a general function of Luban. It only needs to define and set parameters correctly. For more complete functions, see more example projects under the Projects directory in luban_example.

Take several projects in the Projects/ConvertDatas directory in luban_example as examples.

### convert to json
Your build command would roughly look like this:

     %GEN_CLIENT% -h %LUBAN_SERVER_IP% -j cfg --^
     -d %CONF_ROOT%\Defines\__root__.xml ^
     --input_data_dir %CONF_ROOT%\Datas ^
     --output_data_dir convert_json ^
     --gen_types convert_json ^
     -s all
That is, the --gen_types parameter takes "convert_json", converts the data in Datas to json format, and the output directory is convert_json.

### convert to lua
Your command line acts as:

     %GEN_CLIENT% -h %LUBAN_SERVER_IP% -j cfg --^
     -d %CONF_ROOT%\Defines\__root__.xml ^
     --input_data_dir %CONF_ROOT%\Datas ^
     --output_data_dir convert_lua ^
     --gen_types convert_lua ^
     -s all
That is, the --gen_types parameter takes "convert_lua", converts the specified data to lua format, and the output directory is convert_lua.

### convert to xlsx
In the example, the json format is converted to xlsx, and the command line is:

     %GEN_CLIENT% -h %LUBAN_SERVER_IP% -j cfg --^
     -d %CONF_ROOT%\Defines\__root__.xml ^
     --input_data_dir %CONF_ROOT%\Datas ^
     --input:convert:data_dir convert_json ^
     --output_data_dir conver_json_to_xlsx ^
     --gen_types convert_xlsx ^
     -s all

The --gen_types parameter takes "convert_xlsx", the data source directory is convert_json, the specified data is converted to xlsx format, and the output directory is convert_json_to_xlsx.
Note: The converted xlsx format may not meet the Luban configuration requirements. If you need to use Luban to export, you need to modify the format.