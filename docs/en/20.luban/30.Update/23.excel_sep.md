---
title: Excel Configuration Separator
date: 2022-05-25 11:14:58
permalink: /luban/sep/
categories:
  - luban
tags:
  - 
author: 
  name: Code Philosophy
  link: https:://code-philosophy.com
---
# sep Introduction

In the streaming format, for composite data containing multiple data, sometimes it is desired to compactly fill in its multiple sub-data in a cell or a string, and this can be achieved by using sep.

sep will split cells and strings, and then stream them in. sep can contain multiple characters, such as sep=",;", at this time, each character will be used to split the read string.

## split text

|##var|id|desc|
|-|-|-|
|##type|int|text#sep=@|
||1|key1@xxxxx|
||2|key2@yyyyy|

## split simple list

sep annotation For non-container types, it acts on the type itself, and for container types, it can act on both the container and the container element.

|##var|id|item_id_list|name_list|float_list|
|-|-|-|-|-|
|##type|int|(list#sep=,),int|(list#sep=,),string|(list#sep=,),float|
||1|1,2,3|abc,efg,def|1.5,2.5,3|
||2|4,5|eee,fff|1.2,2.2|

## split bean (single cell)

```xml
<bean name="Item">
    <var name="item_id" type="int"/>
    <var name="num" type="int"/>
    <var name="desc" type="string"/>
</bean>

<bean name="Shape">
    <bean name="Circle">
        <var name="radius" type="float"/>
    </bean>
    <bean name="Rectangle" alias="长方形">
        <var name="width" type="float"/>
        <var name="height" type="float"/>
    </bean>
</bean>

<bean name="ComplexBean1">
    <var name="x" type="int"/>
    <var name="y" type="Item#sep=,"/>
    <var name="z" type="int"/>
</bean>

<bean name="ComplexBean2">
    <var name="x" type="int"/>
    <var name="y" type="(list#sep=|),(Item#sep=,)"/>
    <var name="z" type="int"/>
</bean>

```

|##var|id|item|
|-|-|-|
|##type|int|Item#sep=,|
||1|1001,10,item1|

|##var|id|shape|
|-|-|-|
|##type|int|Shape#sep=,|
||1|Circle,10|
||2|长方形,5,8|

|##var|id|item|
|-|-|-|
|##type|int|ComplexBean1#sep=;|
||1|123;1002,1,item2;65|

|##var|id|item|
|-|-|-|
|##type|int|ComplexBean2#sep=;|
||1|111;1001,2,item1\|1002,1,item2;234|

### split bean (multi-cell)

<table border="1">
<tr align="center"><td>##var</td><td>id</td><td colspan="3">item</td> </tr>
<tr align="center"><td>##type</td><td>int</td><td colspan="3">Item</td></tr>
<tr align="center"><td/><td>1</td><td>1001</td><td>1</td><td>item1</td></tr>
</table>

<table border="1">
<tr align="center"><td>##var</td><td>id</td><td colspan="3">shape</td> </tr>
<tr align="center"><td>##type</td><td>int</td><td colspan="3">Shape</td></tr>
<tr align="center"><td/><td>1</td><td>Circle</td><td>10</td><td></td></tr>
<tr align="center"><td/><td>1</td><td>Rectangle</td><td>10</td><td>20</td></tr>
</table>

<table border="1">
<tr align="center"><td>##var</td><td>id</td><td colspan="3">x</td> </tr>
<tr align="center"><td>##type</td><td>int</td><td colspan="3">ComplexBean1</td></tr>
<tr align="center"><td/><td>1</td><td>234</td><td>1001,1,item1</td><td>789</td></tr>
</table>

<table border="1">
<tr align="center"><td>##var</td><td>id</td><td colspan="3">x</td> </tr>
<tr align="center"><td>##type</td><td>int</td><td colspan="3">ComplexBean2</td></tr>
<tr align="center"><td/><td>1</td><td>234</td><td>1001,1,item1|1002,1,item2</td><td>789</td></tr>
</table>

### bean list (single cell)

|##var|id|item|
|-|-|-|
|##type|int|(list#sep=%),Item#sep=,|
||1|1001,10,item1%1002,1,item2|

|##var|id|item|
|-|-|-|
|##type|int|(list#sep=%),ComplexBean1#sep=;|
||1|123;1002,1,item2;65%124;1002,1,item2;65|

|##var|id|item|
|-|-|-|
|##type|int|(list#sep=%),ComplexBean2#sep=;|
||1|123;1002,1,item2|1003,2,item3;65%124;1002,1,item2|1004,4,item4;65|

### bean list (multiple cells)

<table border="1">
<tr align="center"><td>##var</td><td>id</td><td colspan="3">item</td> </tr>
<tr align="center"><td>##type</td><td>int</td><td colspan="3">list,Item#sep=,</td></tr>
<tr align="center"><td/><td>1</td><td>1001,1,item1</td><td>1002,1,item2</td><td></td></tr>
</table>

<table border="1">
<tr align="center"><td>##var</td><td>id</td><td colspan="3">shape</td> </tr>
<tr align="center"><td>##type</td><td>int</td><td colspan="3">list,Shape#sep=,</td></tr>
<tr align="center"><td/><td>1</td><td>Circle,10</td><td>Rectangle,15,18</td><td>Circle,20</td></tr>
</table>

<table border="1">
<tr align="center"><td>##var</td><td>id</td><td colspan="3">x</td> </tr>
<tr align="center"><td>##type</td><td>int</td><td colspan="3">list,ComplexBean1#sep=;</td></tr>
<tr align="center"><td/><td>1</td><td>222;1001,1,item1;789</td><td>333;1001,1,item1;789</td><td>444;1001,1,item1;789</td></tr>
</table>

<table border="1">
<tr align="center"><td>##var</td><td>id</td><td colspan="3">x</td> </tr>
<tr align="center"><td>##type</td><td>int</td><td colspan="3">list,ComplexBean2#sep=;</td></tr>
<tr align="center"><td/><td>1</td><td>111;1001,1,item1;1002,2,item2;};111</td><td>222;1001,1,item1;1002,2,item2;};111</td><td></td></tr>
</table>

<table border="1">
<tr align="center"><td>##var</td><td>id</td><td colspan="3">x</td> </tr>
<tr align="center"><td>##type</td><td>int</td><td colspan="3">list,ComplexBean3#sep=;</td></tr>
<tr align="center"><td/><td>1</td><td>333;1001,1,item1%1002,1,item2;444</td><td>333;1001,1,item1%1002,1,item2;444</td><td></td></tr>
</table>

### Support the default sep bean

For some types, you want all the places where it is used to split the reading with the agreed sep, instead of defining sep everywhere.

The bean supports the sep attribute to implement this mechanism.

Suppose you need a date class, and you expect all used places to be filled in the format yyyy-mm-dd. Examples are as follows.

```xml
<bean name="Date" sep="-">
    <var name="year" type="int"/>
    <var name="month" type="int#range=[1,12]"/>
    <var name="day" type="int#range=[1,31]"/>
</bean>
```

|##var|id|date|dates|
|-|-|-|-|
|##type|int|Date|(list#sep=$),Data|
||1|1999-9-9|2000-1-1$2020-2-2|
||2|2018-8-8|1990-2-3$1991-3-4$1992-4-5|
