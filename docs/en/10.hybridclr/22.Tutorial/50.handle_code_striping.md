---
title: Handle code clipping
date: 2022-09-29 12:31:29
permalink: /hybridclr/handle_code_striping/
categories:
  - hybridclr
  - 文档
tags:
  - 
author: 
  name: Code Philosophy
  link: https://github.com/focus-creative-games
---

# Handle code clipping

Unity uses [Code Stripping](https://docs.unity3d.com/Manual/ManagedCodeStripping.html) technology to help reduce the package size of the il2cpp backend. If anti-clipping processing is not performed, since the code in the AOT main project is generally not much, a large number of C# types and functions are clipped, resulting in the following exceptions when calling these clipped classes or functions during hot update:

```txt
    // Missing type error
    Unity: TypeLoadException: Could not load type 'Xxx' from assembly 'yyy'

    // Missing function error
    MissingMethodException: xxxx
```

Unity has provided a mechanism to avoid code stripping. For details, see the [Code Stripping Problem](/en/hybridclr/code_striping/) document.

Hybridclr_unity provides a convenient command `HybridCLR/generate/LinkXml` to generate link.xml with one click.

Note that if an assembly is not referenced in your main project at all, even if the assembly or its classes and functions are preserved in link.xml, the anti-clipping operation will not take effect.
So you have to make sure that for each assembly you want to keep, you have at least referenced a certain class or function in this assembly in the main project (such as the Main module of the hybridclr_trial project).


