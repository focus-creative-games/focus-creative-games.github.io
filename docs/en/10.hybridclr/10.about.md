---
title: About HybridCLR
date: 2022-05-25 11:50:18
permalink: /hybridclr/about/
categories:
  - HybridCLR
tags:
  - 
editLink: false
author: 
  name: walon
  link: https://github.com/focus-creative-games
---

# HybridCLR

[![license](http://img.shields.io/badge/license-MIT-blue.svg)](https://github.com/focus-creative-games/hybridclr/blob/main/LICENSE)

![logo](https://github.com/focus-creative-games/hybridclr/raw/main/docs/images/logo.jpg)

<br/>
<br/>

HybridCLR (code-named wolong) is a **complete**, **zero-cost**, **high-performance**, **low-allocation** native c# hotfix solution for any platforms Unity supports.

HybridCLR extends IL2CPP to implement an "AOT+Interpreter" hybrid runtime instead of the pure [AOT](https://en.wikipedia.org/wiki/Ahead-of-time_compilation) runtime. Moreover, it natively supports loading dynamic assemblies. That allows games built with il2cpp backend can execute in **AOT+interpreter** hybrid mode with a high performance on Android, IOS, Consoles and other platforms that restrict JIT. It completely supports hot update from the low level code.

## Documentation

- [Official Documentation](/en/hybridclr/about/)
- [Get Started](/en/hybridclr/start_up/)
- [Demonstration](https://github.com/focus-creative-games/hybridclr_trial)
- [Zhihu Articles](https://www.zhihu.com/column/c_1489549396035870720)
- [UWA Course](https://edu.uwa4d.com/course-intro/0/432)

## Features

- Features are complete. HybridCLR almost completely implements [ECMA-335 Common Language Infrastructure ](https://www.ecma-international.org/publications-and-standards/standards/ecma-335/), all features besides what mentions below in the "limitations and awareness" are supported.
- Zero learning and using costs. HybridCLR enhances pure AOT runtime to a complete runtime, that allows hot update code working seamlessly with the AOT code. Hot update codes and AOT codes are under one runtime, that allows to use inheritance, reflection, multi-threading (volatile, ThreadStatic, Task, asymc, etc.) accross Hot update and AOT. No need to write any specific code to make it compatible, no neccessary code generation (wrappers), and no limitations at all.
- Efficient execution. Implemented an extremely efficient register interpreter that outperforms other hot update schemes by a large margin by all metrics. [Performance report](/en/hybridclr/performance)
- Memory efficient. Classes defined in Hot Update codes occupy the same memory allocation as ordinary C# classes, which is far superior to other hot update solutions.[Memory allocation report](/en/hybridclr/memory)
- Natively supports hotfix to repair some of the code from AOT, with almost no development and runtime overhead.

## Working Principles

HybridCLR is inspired by mono's [mixed mode execution](https://www.mono-project.com/news/2017/11/13/mono-interpreter/) technology and provides an additional interpreter module for unity's il2cpp AOT runtime, transforming them from a pure AOT runtime to an "AOT + Interpreter" hybrid runtime.

![icon](https://github.com/focus-creative-games/hybridclr/raw/main/docs/images/architecture.png)

More specifically, HybridCLR does the following

- Implemented an efficient metadata (dll) parsing library.
- Modified the metadata management module to enable dynamic registration of metadata.
- Implemented a compiler from IL instruction to custom register instruction set.
- Implemented an efficient register interpreter.
- Provided a large number of additional instinct functions to improve interpreter performance.
- Provided the support of hotfix AOT.

## Differences with other popular c# hot update solutions

HybridCLR is the native c# hot update solution.Popularly, il2cpp is equivalent to the aot module of mono and HybridCLR is equivalent to the interpreter module of mono, combining il2cpp and HybridCL into a complete mono. HybridCLR makes il2cpp into a full-featured runtime that natively supports dynamic loading of dll (which through System.Reflection.Assembly.Load), and then supports hot update of the ios platform.

Just because HybridCLR is implemented at the native runtime level, the types of the hot update part and the AOT part of the main project are completely equivalent and seamlessly unified.

Other hot update solutions are independent vm, and the relationship with il2cpp is essentially equivalent to the relationship of embedding lua in mono.Due to the inconsistency of the type system, in order to allow the hot update type to inherit some AOT types, an adapter needs to be written, and the type in the interpreter cannot be recognized by the type system of the main project. To sum up, other hot update solutions have the disadvantages of incomplete features, troublesome development, and low operating efficiency.

## Compatibility

- Support all platforms supported by il2cpp. The current test supports PC (Win32 and Win64), macOS (x86, x64, Arm64), Android (armv7, armv8), iOS (64bit), NS (64bit), and WebGL platforms, and the remaining platforms are yet to be tested.
- Already support Unity 2019, 2020, 2021 full series of LTS versions.
- After testing a large number of common game libraries, no libraries that are natively compatible with il2cpp but incompatible after using HybridCLR have been found. As long as the library can work under the il2cpp backend, it can work normally under HybridCLR. Even those libraries that were incompatible with il2cpp due to AOT issues now work properly instead because of HybridCLR's expansion of il2cpp.

## Stability Conditions

The current version is stable and marked as Release Candidate version. Hundreds of small, medium and large commercial game projects have already been connected, and dozens of them are already online or in pre-launch testing.

## Support and Contact

- Official second group number: **680274677 (recommended)**. It is recommended to add the group to get the latest official news.
- Official first group number: 651188171 (full). It is recommended to add groups to get official updates.
- Novices first group number: 428404198. Novices can consult in the group if you encounter problems during use HybridCLR.
- Official email: hybridclr@focus-creative-games.com
- Business cooperation email: business@focus-creative-games.com

## Subsequent Development Planning

- Interpreter instruction optimization
- Support for incremental GC
- Support for extern functions
- Other optimizations

## About the author

**walon** : Founder of **focus-creative-games**

Graduated from the Department of Physics of Tsinghua University, the 2006 CMO gold medalist, member of the National Mathematical Olympiad Training Team, recommended to Tsinghua Basic Science Class. Focus on game technology, good at developing architecture and basic technical facilities.

## license

HybridCLR is licensed under the [MIT](https://github.com/focus-creative-games/hybridclr/blob/main/LICENSE) license
